---
title: EWS-Einschränkung in Exchange
manager: sethgros
ms.date: 05/10/2019
ms.audience: Developer
ms.assetid: b4fff4c9-c625-4d2a-9d14-bb28a5da5baf
description: Lernen Sie die Einschränkungsrichtlinien kennen, die sich bei Verwendung von Exchange auf EWS auswirken.
localization_priority: Priority
ms.openlocfilehash: 0c6ac49629ad4cdb4419cc8638d8e60ecb6509d6
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/03/2020
ms.locfileid: "44455401"
---
# <a name="ews-throttling-in-exchange"></a><span data-ttu-id="cdb50-103">EWS-Einschränkung in Exchange</span><span class="sxs-lookup"><span data-stu-id="cdb50-103">EWS throttling in Exchange</span></span>

<span data-ttu-id="cdb50-104">Lernen Sie die Einschränkungsrichtlinien kennen, die sich bei Verwendung von Exchange auf EWS auswirken.</span><span class="sxs-lookup"><span data-stu-id="cdb50-104">Learn about the throttling policies that affect EWS when you are using Exchange.</span></span>

<span data-ttu-id="cdb50-105">**Bereitgestellt von:** Glen Scales; Michael Mainer, Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="cdb50-105">**Provided by:** Glen Scales; Michael Mainer, Microsoft Corporation</span></span>

<span data-ttu-id="cdb50-p101">Dieser Artikel enthält Informationen über EWS-Einschränkungen in Exchange Online, Exchange Online als Teil von Office 365 und lokale Versionen von Exchange ab Exchange 2010. Einschränkungen in Exchange dienen zur Sicherstellung von Serverzuverlässigkeit und -betriebszeit durch Begrenzung der Menge an Serverressourcen, die ein einzelner Benutzer oder eine einzelne Anwendung verbrauchen kann. Einschränkungen sind eine reaktive Antwort auf die übermäßige Nutzung von Systemressourcen, die die Zuverlässigkeit und die Funktionalität von Diensten beeinflussen kann. Exchange überwacht kontinuierlich die Integrität kritischer Infrastrukturressourcen, z. B. von Postfachdatenbanken. Wenn hohe Lastfaktoren entdeckt werden, die die Leistung dieser Ressourcen beeinträchtigen, werden EWS-Verbindungen proportional basierend auf dem Anteil eingeschränkt, den jede aufrufende Person oder Anwendung zu dieser hohen Lastbedingung beigetragen hat. Dies kann dazu führen, dass ein Benutzer, der die Einschränkungsgrenzwerte nicht überschreitet, möglicherweise trotzdem Verzögerungen hinnehmen muss, bis die Integrität der Ressource wieder das Betriebniveau erreicht.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p101">The article provides information about EWS throttling in Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange 2010. Throttling in Exchange helps to ensure server reliability and uptime by limiting the amount of server resources that a single user or application can consume. Throttling is a reactive response to overuse of system resources that may affect service reliability and functionality. Exchange constantly monitors the health of critical infrastructure resources, such as mailbox databases. When high load factors are detected that degrade the performance of these resources, EWS connections are throttled proportionally based on the amount that each caller has contributed to this high load condition. The result is that a user may be within their throttling limit and still experience slowdowns until the health of the resource is back to operational levels.</span></span>

<span data-ttu-id="cdb50-p102">Jedes Clientzugriffsprotokoll in Exchange, einschließlich EWS, verfügt über eine Einschränkungsrichtlinie. Beim Entwerfen von Anwendungen, die EWS verwenden, müssen Einschränkungsrichtlinien berücksichtigt werden, um die Anwendungszuverlässigkeit und die Integrität des Exchange-Servers sicherzustellen. In diesem Artikel werden die verschiedenen Einschränkungsrichtlinien und Dienstgrenzwerte für EWS für Exchange Online oder Versionen von Exchange lokal ab Exchange Server 2010 vorgestellt. Gegebenenfalls werden in diesem Artikel außerdem Unterschiede bei den Einschränkungsrichtlinien in verschiedenen Exchange-Versionen aufgezeigt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p102">Each client access protocol in Exchange, including EWS, has a throttling policy. When you design applications that use EWS, it is important to account for throttling policies, to help ensure application reliability and the health of your Exchange server. This article identifies the different throttling policies and service limits for EWS, whether you are targeting Exchange Online or versions of Exchange on-premises starting with Exchange Server 2010. As applicable, this article also identifies differences in throttling policies in different versions of Exchange.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="cdb50-p103">[!WICHTIG] Die standardmäßige Einschränkungsrichtlinie, der Zugriff auf Einschränkungsrichtlinien und die Konfiguration von Einschränkungsrichtlinien unterscheiden sich zwischen Exchange Online und Exchange lokal. Bestimmte Werte von Einschränkungseinstellungen sind nur für eine bestimmte Version von Exchange zutreffend. Da Einstellungswerte nach Version variieren und Exchange-Administratoren die standardmäßigen Richtlinien für lokale Bereitstellungen ändern können, werden die standardmäßigen Einstellungswerte in diesem Artikel nicht angegeben. Es ist wichtiger, dass Ihnen die Überlegungen bekannt sind, die Sie zum Entwerfen einer Anwendung berücksichtigen müssen, die innerhalb von Einschränkungsgrenzwerten funktioniert und angemessen auf Einschränkungsszenarien reagiert.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p103">Default throttling policy, access to throttling policy, and throttling policy configuration differs between Exchange Online and Exchange on-premises. Specific throttling setting values are only accurate for a specific version of Exchange. Because setting values vary across versions, and because Exchange administrators can change the default throttling policies for on-premises deployments, this article does not provide the default setting values. It is more important for you to be aware of the considerations for designing an application that functions within throttling limits and reacts appropriately to throttling scenarios.</span></span>

<span data-ttu-id="cdb50-120">Als Anwendungsentwickler müssen Sie in Ihrem Anwendungsentwurf Einschränkungen berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-120">If you are an application developer, you need to factor throttling into your application design.</span></span> <span data-ttu-id="cdb50-121">Unterschiedliche Exchange-Versionen haben unterschiedliche Standardwerte für die EWS-Einschränkungsparameter.</span><span class="sxs-lookup"><span data-stu-id="cdb50-121">Different versions of Exchange have different default values for the EWS throttling parameters.</span></span> <span data-ttu-id="cdb50-122">Client- und Dienstanwendungen, die für den Zugriff auf verschiedene Exchange-Versionen konzipiert sind, müssen diese Einstellungen berücksichtigen, egal ob es sich um Standardwerte, von einem Exchange-Administrator festgelegte benutzerdefinierte Werte oder - wie im Fall von Exchange Online - standardmäßig festgelegte und nicht auffindbare Werte handelt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-122">Client and service applications that are designed to access different versions of Exchange will need to account for these settings, whether they be default values, custom values set by an Exchange administrator, or, as for Exchange Online, set by default and not discoverable.</span></span> <span data-ttu-id="cdb50-123">Da Werte für Einschränkungsparameter nicht programmgesteuert ermittelt werden können, sollten die Cliententwurfsspezifikationen einen Plan enthalten, wie sich die Anwendung an verschiedene mögliche Einschränkungsgrenzwerte anpasst.</span><span class="sxs-lookup"><span data-stu-id="cdb50-123">Because throttling parameter values cannot be discovered programmatically, your client design specifications should include a plan for the application to adapt to different potential throttling limits.</span></span> <span data-ttu-id="cdb50-124">Wenn Sie Multithread-Anwendungen entwerfen, die auf eine große Anzahl von Postfächern zugreifen, oder wenn viele Clients auf dasselbe Postfach zugreifen, berücksichtigen Sie die Grenzwerte für die Parallelität, die die Standardrichtlinie auf Exchange angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="cdb50-124">When you design multi-threaded applications that will access a large number of mailboxes, or when many clients are accessing the same mailbox, consider the limits on concurrency that the default policy applies to Exchange.</span></span>

## <a name="throttling-policies-that-affect-ews"></a><span data-ttu-id="cdb50-125">Einschränkungsrichtlinien mit Auswirkung auf EWS</span><span class="sxs-lookup"><span data-stu-id="cdb50-125">Throttling policies that affect EWS</span></span>

<span data-ttu-id="cdb50-126">Die Einschränkungsrichtlinien in Exchange wirken sich nicht nur auf EWS, sondern auch auf alle Clientverbindungen mit dem Exchange-Server aus, einschließlich der von Office Outlook, Outlook Web App und Exchange ActiveSync verwendeten Protokolle.</span><span class="sxs-lookup"><span data-stu-id="cdb50-126">The throttling polices in Exchange affect not only EWS, but also all client connections to the Exchange server, including the protocols used by Office Outlook, Outlook Web App, and Exchange ActiveSync.</span></span>

<span data-ttu-id="cdb50-p105">Die **CPUStartPercent** -Einschränkungsrichtlinie kann sich auf die EWS-Leistung auswirken, wenn Sie Exchange 2010 ausführen. Wenn die durchschnittliche CPU-Auslastung von Exchange-Prozessen, die auf dem Clientzugriffsserver ausgeführt werden (einschließlich, aber nicht beschränkt auf den EWS-Prozess), den von dieser Richtlinie angegebenen Wert überschreitet, werden eingehende Anfragen verzögert, um die CPU-Auslastung zu verringern. Sie können den Wert dieser Richtlinie nicht ändern, ihn zu kennen, kann jedoch bei der Behebung von Leistungsproblemen helfen. Die Samplinglogik, die der Clientzugriffsserver für diesen Wert ausführt, ist ein Mittelwert über ein 10-Sekunden-Gleitfenster. Dadurch kann der Prozess angemessen auf schnelle Spitzen in der CPU-Auslastung reagieren. Wenn dieser Schwellenwert überschritten wird, werden eingehende Verbindungen mit EWS verzögert. Diese Verzögerung ist auf 500 Millisekunden (ms) bei einer theoretischen 100-prozentigen CPU-Auslastung pro EWS-Anforderung begrenzt. Wenn eine EWS-Batchanforderung zum Abrufen von 100 Elementen übergeben wird, überprüft der Server die CPU-Auslastung 100 Mal (ein Mal pro Element), und es kann eine maximale Verzögerung von 50 Sekunden entstehen. Die Verzögerungsdauer ist linear proportional zur CPU-Auslastung. Bei **CPUStartPercent** beträgt die Verzögerung 0 (ein Threadergebnis) und erhöht sich linear auf bis zu 500 ms bei 100-prozentiger CPU-Auslastung. Da Einschränkungsrichtlinien für alle Exchange-Benutzer gelten, ist es unwahrscheinlich, dass die CPU-Auslastung den **CPUStartPercent** -Grenzwert auf einem Exchange-Clientzugriffsserver überschreitet, da einzelne Benutzer oder Anwendungen nicht genügend CPU-Auslastung erzeugen können, um den Serverbetrieb zu beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p105">The **CPUStartPercent** throttling policy can affect EWS performance when you are running Exchange 2010. When the average CPU utilization of Exchange processes running on the Client Access server — including, but not limited to, the EWS process — exceeds the value specified by this policy, inbound requests will be delayed to reduce CPU utilization. You cannot change the value of this policy, but knowing about it can help you troubleshoot performance issues. The sampling logic the Client Access server performs for this value is an average over a 10 second rolling window. This allows the process to respond appropriately to quick spikes in CPU utilization. When this threshold is exceeded, inbound connections to EWS are delayed. This delay is capped at 500 milliseconds (msecs) at a theoretical 100% CPU usage per EWS request. If a batch EWS request to get 100 items is passed, the server will check the CPU usage 100 times (once per item) for a maximum delay of 50 seconds. The delay time is linearly proportional to CPU usage. At **CPUStartPercent**, the delay is 0 (a thread yield) and it increases linearly up to 500 msec at 100% CPU usage. Because throttling policies apply to all Exchange users, it's unlikely that CPU usage would exceed the **CPUStartPercent** limit on an Exchange Client Access server, because individual users or applications cannot gain enough CPU utilization to affect server operation.</span></span>

<span data-ttu-id="cdb50-138">In der folgenden Tabelle sind die Einschränkungsrichtlinienparameter aufgeführt, die sich auf Anwendungen mit EWS-Nutzung auswirken.</span><span class="sxs-lookup"><span data-stu-id="cdb50-138">The following table lists the throttling policy parameters that affect applications that use EWS.</span></span>

<span data-ttu-id="cdb50-139">**Tabelle 1: Einschränkungsrichtlinienparameter mit Auswirkung auf EWS**</span><span class="sxs-lookup"><span data-stu-id="cdb50-139">**Table 1: Throttling policy parameters that affect EWS**</span></span>

|<span data-ttu-id="cdb50-140">**Name des Einschränkungsrichtlinienparameters**</span><span class="sxs-lookup"><span data-stu-id="cdb50-140">**Throttling policy parameter name**</span></span>|<span data-ttu-id="cdb50-141">**Gilt für**</span><span class="sxs-lookup"><span data-stu-id="cdb50-141">**Applies to**</span></span>|<span data-ttu-id="cdb50-142">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="cdb50-142">**Description**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="cdb50-143">**DiscoveryMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="cdb50-143">**DiscoveryMaxConcurrency**</span></span> <br/> |<span data-ttu-id="cdb50-144">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-144">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-145">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-145">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-146">Gibt die Anzahl der gleichzeitigen Discoverysuchverbindungen an, die ein Benutzer zur gleichen Zeit geöffnet haben kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-146">Specifies the number of concurrent discovery search connections that a user can have at the same time.</span></span>  <br/> |
|<span data-ttu-id="cdb50-147">**DiscoveryMaxKeywords**</span><span class="sxs-lookup"><span data-stu-id="cdb50-147">**DiscoveryMaxKeywords**</span></span> <br/> |<span data-ttu-id="cdb50-148">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-148">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-149">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-149">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-150">Gibt die maximale Anzahl an Schlüsselwörtern an, die ein Benutzer in eine Discoverysuche einschließen kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-150">Specifies the maximum number of keywords that a user can include in a discovery search.</span></span>  <br/> |
|<span data-ttu-id="cdb50-151">**DiscoveryMaxKeywordsPerPage**</span><span class="sxs-lookup"><span data-stu-id="cdb50-151">**DiscoveryMaxKeywordsPerPage**</span></span> <br/> |<span data-ttu-id="cdb50-152">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-152">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-153">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-153">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-154">Gibt die Anzahl an Schlüsselwörtern an, für die Statistiken angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-154">Specifies the number of keywords for which to show statistics.</span></span>  <br/> |
|<span data-ttu-id="cdb50-155">**DiscoveryMaxMailboxes**</span><span class="sxs-lookup"><span data-stu-id="cdb50-155">**DiscoveryMaxMailboxes**</span></span> <br/> |<span data-ttu-id="cdb50-156">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-156">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-157">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-157">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-158">Gibt die maximale Anzahl an Quellpostfächern an, die ein Benutzer in eine Discoverysuche einschließen kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-158">Specifies the maximum number of source mailboxes that a user can include in a discovery search.</span></span>  <br/> |
|<span data-ttu-id="cdb50-159">**DiscoveryMaxMailboxesResultsOnly**</span><span class="sxs-lookup"><span data-stu-id="cdb50-159">**DiscoveryMaxMailboxesResultsOnly**</span></span> <br/> |<span data-ttu-id="cdb50-160">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-160">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-161">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-161">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-162">Gibt die maximale Anzahl an Postfächern an, die Sie in einer In-Situ-eDiscovery-Suche durchsuchen können, ohne die Statistik anzeigen zu können.</span><span class="sxs-lookup"><span data-stu-id="cdb50-162">Specifies the maximum number of mailboxes you can search in an In-Place eDiscovery search without being able to view the statistics.</span></span>  <br/> |
|<span data-ttu-id="cdb50-163">**DiscoveryPreviewSearchResultsPageSize**</span><span class="sxs-lookup"><span data-stu-id="cdb50-163">**DiscoveryPreviewSearchResultsPageSize**</span></span> <br/> |<span data-ttu-id="cdb50-164">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-164">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-165">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-165">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-166">Gibt die Anzahl an Nachrichten an, die in der Vorschauantwort einer eDiscovery-Suche zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-166">Specifies the number of messages returned in a eDiscovery search preview response.</span></span>  <br/> |
|<span data-ttu-id="cdb50-167">**EwsCutoffBalance**</span><span class="sxs-lookup"><span data-stu-id="cdb50-167">**EwsCutoffBalance**</span></span> <br/> |<span data-ttu-id="cdb50-168">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-168">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-169">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-169">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-170">Definiert die Grenzwerte für die Ressourcennutzung für EWS-Benutzer, bevor der Benutzer vollständig an der Ausführung von Vorgängen für eine bestimmte Komponente gehindert wird.</span><span class="sxs-lookup"><span data-stu-id="cdb50-170">Defines the resource consumption limits for EWS user before that user is completely blocked from performing operations on a specific component.</span></span>  <br/> |
|<span data-ttu-id="cdb50-171">**EwsMaxBurst**</span><span class="sxs-lookup"><span data-stu-id="cdb50-171">**EwsMaxBurst**</span></span> <br/> |<span data-ttu-id="cdb50-172">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-172">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-173">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-173">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-p106">Definiert den Zeitraum, für den ein EWS-Benutzer eine erhöhte Menge von Ressourcen verbrauchen darf, bevor er eingeschränkt wird. Dieser Zeitraum wird in Millisekunden gemessen. Dieser Wert wird für jede Komponente einzeln festgelegt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p106">Defines the amount of time that an EWS user can consume an elevated amount of resources before being throttled. This is measured in milliseconds. This value is set separately for each component.</span></span>  <br/> |
|<span data-ttu-id="cdb50-177">**EwsRechargeRate**</span><span class="sxs-lookup"><span data-stu-id="cdb50-177">**EwsRechargeRate**</span></span> <br/> |<span data-ttu-id="cdb50-178">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-178">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-179">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-179">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-180">Definiert die Rate, mit der das Budget eines EWS-Benutzers während der Budgetzeit aufgeladen wird (um die das Budget wächst).</span><span class="sxs-lookup"><span data-stu-id="cdb50-180">Defines the rate at which an EWS user's budget is recharged (budget grows by) during the budget time.</span></span>  <br/> |
|<span data-ttu-id="cdb50-181">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="cdb50-181">**EWSMaxSubscriptions**</span></span> <br/> |<span data-ttu-id="cdb50-182">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-182">Exchange 2010</span></span>  <br/> <span data-ttu-id="cdb50-183">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-183">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-184">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-184">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-p107">Definiert die maximale Anzahl an aktiven Push-, Pull- und Streamingbenachrichtigungsabonnements, über die ein Benutzer auf einem bestimmten Clientzugriffsserver gleichzeitig verfügen kann. Dies wird je nach Exchange-Version anders budgetiert.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p107">Defines the maximum number of active push, pull, and streaming notification subscriptions that a user can have on a specific Client Access server at one time. This is budgeted differently for different Exchange versions.</span></span>  <br/> |
|<span data-ttu-id="cdb50-187">**EWSFastSearchTimeoutInSeconds**</span><span class="sxs-lookup"><span data-stu-id="cdb50-187">**EWSFastSearchTimeoutInSeconds**</span></span> <br/> |<span data-ttu-id="cdb50-188">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-188">Exchange 2010</span></span>  <br/> |<span data-ttu-id="cdb50-189">Definiert die Zeitspanne in Sekunden, die mit der Exchange-Suche in EWS durchgeführte schnelle Suchläufe fortgesetzt werden, bevor ein Timeout eintritt. Schnelle Suchläufe sind Suchvorgänge, die mithilfe einer AQS-Abfragezeichenfolge (Advanced Query Syntax, erweiterte Abfragesyntax) in einem [FindItem-Vorgang](https://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) ausgeführt werden.    </span><span class="sxs-lookup"><span data-stu-id="cdb50-189">Defines the amount of time in seconds that fast searches made by using Exchange Search in EWS continue before they time out. Fast searches are searches made by using an Advanced Query Syntax (AQS) query string in a [FindItem operation](https://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span></span>  <br/> |
|<span data-ttu-id="cdb50-190">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="cdb50-190">**EWSFindCountLimit**</span></span> <br/> |<span data-ttu-id="cdb50-191">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-191">Exchange 2010</span></span>  <br/> <span data-ttu-id="cdb50-192">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-192">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-193">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-193">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-p108">Definiert die maximale Anzahl an Elementen aus einem [FindItem-Vorgang](https://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) oder einem [FindFolder Operation](https://msdn.microsoft.com/library/7a9855aa-06cc-45ba-ad2a-645c15b7d031%28Office.15%29.aspx), die gleichzeitig für einen bestimmten Benutzer im Arbeitsspeicher auf dem Clientzugriffsserver vorhanden sein können. Der Standardwert für diese Eigenschaft ist 1000. Der [Ausweichwert](https://technet.microsoft.com/library/dd297964%28v=exchg.141%29.aspx#fallback) für diesen Wert ist 1000.  </span><span class="sxs-lookup"><span data-stu-id="cdb50-p108">Defines the maximum number of items from a [FindItem operation](https://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) or [FindFolder operation](https://msdn.microsoft.com/library/7a9855aa-06cc-45ba-ad2a-645c15b7d031%28Office.15%29.aspx) that can exist in memory on the Client Access server at one time for one user. The default value for this property is 1000. The [fallback value](https://technet.microsoft.com/library/dd297964%28v=exchg.141%29.aspx#fallback)for this value is 1000.  </span></span><br/> <span data-ttu-id="cdb50-p109">In Exchange Online und lokalen Versionen von Exchange ab Exchange 2013 kann diese Einschränkungsrichtlinie nicht abgefragt oder von einem Cmdlet konfiguriert werden. In Exchange Online und lokalen Versionen von Exchange ab Exchange 2013 beträgt der EWSFindCountLimit für die [AQS-Suche](how-to-perform-an-aqs-search-by-using-ews-in-exchange.md) und alle Exchange-Suchvorgänge mit einer Beschränkung 250 Ergebnisse. Eine Exchange-Suche ohne Beschränkung gibt bis zu 1000 Ergebnisse zurück.  </span><span class="sxs-lookup"><span data-stu-id="cdb50-p109">In Exchange Online and on-premises versions of Exchange starting with Exchange 2013, this throttling policy cannot be queried or configured by a cmdlet. In Exchange Online and on-premises versions of Exchange starting with Exchange 2013, the EWSFindCountLimit for [AQS search](how-to-perform-an-aqs-search-by-using-ews-in-exchange.md) and any Exchange search with a restriction is 250 results. An Exchange search without a restriction will return up to 1000 results.  </span></span><br/> |
|<span data-ttu-id="cdb50-200">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="cdb50-200">**EWSPercentTimeInAD**</span></span> <br/> |<span data-ttu-id="cdb50-201">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-201">Exchange 2010</span></span>  <br/> |<span data-ttu-id="cdb50-202">Definiert die Zeit pro Minute in Prozent, für die ein bestimmter Benutzer Active Directory-Anforderungen ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-202">Defines the percentage of time per minute during which a specific user can execute Active Directory requests.</span></span>  <br/> |
|<span data-ttu-id="cdb50-203">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="cdb50-203">**EWSPercentTimeInCAS**</span></span> <br/> |<span data-ttu-id="cdb50-204">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-204">Exchange 2010</span></span>  <br/> |<span data-ttu-id="cdb50-205">Definiert die Zeit pro Minute in Prozent, für die ein bestimmter Benutzer Clientzugriffsserver-Code ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-205">Defines the percentage of time per minute during which a specific user can execute Client Access server code.</span></span>  <br/> |
|<span data-ttu-id="cdb50-206">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="cdb50-206">**EWSPercentTimeInMailboxRPC**</span></span> <br/> |<span data-ttu-id="cdb50-207">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-207">Exchange 2010</span></span>  <br/> |<span data-ttu-id="cdb50-208">Definiert die Zeit pro Minute in Prozent, für die ein bestimmter Benutzer Postfach-RPC-Anforderungen ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-208">Defines the percentage of time per minute during which a specific user can execute mailbox RPC requests</span></span>  <br/> |
|<span data-ttu-id="cdb50-209">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="cdb50-209">**EWSMaxConcurrency**</span></span> <br/> |<span data-ttu-id="cdb50-210">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-210">Exchange 2010</span></span>  <br/> <span data-ttu-id="cdb50-211">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-211">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-212">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-212">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-p110">Definiert die Anzahl der Verbindungen, die ein bestimmter Benutzer gleichzeitig auf einem Exchange-Server geöffnet haben kann, auf dem EWS ausgeführt wird. Der Standardwert für Exchange 2010 ist 10. Der Standardwert für Exchange 2013 und Exchange Online ist 27.  </span><span class="sxs-lookup"><span data-stu-id="cdb50-p110">Defines the number of concurrent open connections that a specific user can have against an Exchange server that is using EWS at one time. The default value for Exchange 2010 is 10. The default value for Exchange 2013 and Exchange Online is 27.  </span></span><br/> <span data-ttu-id="cdb50-p111">Diese Richtlinie gilt für alle Vorgänge mit Ausnahme von Streamingbenachrichtigungen. Streamingbenachrichtigungen verwenden den **HangingConnectionLimit**, um die Anzahl der verfügbaren geöffneten Streamingereignisverbindungen anzugeben. Weitere Informationen finden Sie unter [Welche Drosselung Werte muss ich berücksichtigen?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).  </span><span class="sxs-lookup"><span data-stu-id="cdb50-p111">This policy applies to all operations except for streaming notifications. Streaming notifications use the **HangingConnectionLimit** to indicate the number of open streaming event connections that are available. For more information, see [What throttling values do I need to take into consideration?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).  </span></span><br/> |
|<span data-ttu-id="cdb50-219">**MessageRateLimit**</span><span class="sxs-lookup"><span data-stu-id="cdb50-219">**MessageRateLimit**</span></span> <br/> |<span data-ttu-id="cdb50-220">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-220">Exchange 2010</span></span>  <br/> <span data-ttu-id="cdb50-221">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-221">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-222">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-222">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-223">Definiert die Anzahl an Nachrichten pro Minute, die gesendet werden können.</span><span class="sxs-lookup"><span data-stu-id="cdb50-223">Defines the number of messages per minute that can be submitted.</span></span>  <br/> |
|<span data-ttu-id="cdb50-224">**RecipientRateLimit**</span><span class="sxs-lookup"><span data-stu-id="cdb50-224">**RecipientRateLimit**</span></span> <br/> |<span data-ttu-id="cdb50-225">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-225">Exchange 2010</span></span>  <br/> <span data-ttu-id="cdb50-226">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-226">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-227">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-227">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-228">Definiert den Grenzwert für die Anzahl an Empfängern, die ein Benutzer in einem Zeitraum von 24 Stunden adressieren kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-228">Defines the limit to the number of recipients that a user can address in a 24-hour period.</span></span>  <br/> |
|<span data-ttu-id="cdb50-229">**ForwardeeLimit**</span><span class="sxs-lookup"><span data-stu-id="cdb50-229">**ForwardeeLimit**</span></span> <br/> |<span data-ttu-id="cdb50-230">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-230">Exchange 2010</span></span>  <br/> <span data-ttu-id="cdb50-231">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-231">Exchange 2013</span></span>  <br/> <span data-ttu-id="cdb50-232">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-232">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-233">Definiert den Grenzwert für die Anzahl an Empfängern für Weiterleitungs-/Umleitungsaktionen im Posteingang in einem Zeitraum von 24 Stunden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-233">Defines the limit to the number of recipients for Inbox forward/redirect actions in a 24-hour period.</span></span>  <br/> |
|<span data-ttu-id="cdb50-234">**ConcurrentSyncCalls**</span><span class="sxs-lookup"><span data-stu-id="cdb50-234">**ConcurrentSyncCalls**</span></span> <br/> |<span data-ttu-id="cdb50-235">Exchange 2019</span><span class="sxs-lookup"><span data-stu-id="cdb50-235">Exchange 2019</span></span>  <br/> <span data-ttu-id="cdb50-236">Exchange 2016</span><span class="sxs-lookup"><span data-stu-id="cdb50-236">Exchange 2016</span></span>  <br/> <span data-ttu-id="cdb50-237">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-237">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-238">Definiert den Grenzwert für die Anzahl gleichzeitiger Synchronisierungs Aufrufe (SyncFolderHierarchy, SyncFolderItems) für einen Benutzer.</span><span class="sxs-lookup"><span data-stu-id="cdb50-238">Defines the limit to the number of concurrent sync calls (SyncFolderHierarchy, SyncFolderItems) for a user.</span></span> <br/> |

> [!CAUTION]
> <span data-ttu-id="cdb50-p112">Legen Sie Einschränkungsrichtlinien nicht auf **null** fest. Hierdurch wird die Richtlinie auf "unbegrenzt" festgelegt, was bedeutet, dass eine Einschränkungsrichtlinie nicht festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p112">Do not set throttling polices to **null**. This will set the policy to equal unlimited, which indicates that a throttling policy isn't set.</span></span>

## <a name="displaying-the-policies-that-apply-to-exchange-mailboxes"></a><span data-ttu-id="cdb50-241">Anzeigen der für Exchange-Postfächer geltenden Richtlinien</span><span class="sxs-lookup"><span data-stu-id="cdb50-241">Displaying the policies that apply to Exchange mailboxes</span></span>

<span data-ttu-id="cdb50-p113">Exchange lokal stellt Exchange-Verwaltungsshell-Cmdlets zur Verfügung, mit denen Sie Einschränkungsrichtlinien festlegen und abrufen können. Exchange Online bietet keinen Zugriff auf die Einschränkungsrichtlinien-Cmdlets.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p113">Exchange on-premises provides Exchange Management Shell cmdlets that you can use to set and get throttling policy. Exchange Online does not provide access to the throttling policy cmdlets.</span></span>

<span data-ttu-id="cdb50-244">Sie können die folgenden Cmdlets verwenden, um Einschränkungsrichtlinien für eine lokale Bereitstellung von Exchange Server anzuzeigen:</span><span class="sxs-lookup"><span data-stu-id="cdb50-244">You can use the following cmdlets to display throttling polices for an on-premises Exchange Server deployment:</span></span>

- <span data-ttu-id="cdb50-245">**Get-ThrottlingPolicy** - Ruft die Clienteinschränkungseinstellungen für eine oder mehrere Einschränkungsrichtlinien ab.</span><span class="sxs-lookup"><span data-stu-id="cdb50-245">**Get-ThrottlingPolicy** — Gets the client throttling settings for one or more throttling policies.</span></span> <span data-ttu-id="cdb50-246">Weitere Informationen finden Sie unter [Get-ThrottlingPolicy](https://technet.microsoft.com/library/dd351264.aspx) auf TechNet.</span><span class="sxs-lookup"><span data-stu-id="cdb50-246">For more information, see [Get-ThrottlingPolicy](https://technet.microsoft.com/library/dd351264.aspx) on TechNet.</span></span>

- <span data-ttu-id="cdb50-p115">**Get-ThrottlingPolicyAssociation** - Ermöglicht es Ihnen, die Beziehung zwischen einem Objekt und den zugeordneten Einschränkungsrichtlinien anzuzeigen. Bei dem Objekt kann es sich um einen Benutzer mit einem Postfach, einen Benutzer ohne Postfach oder einen Kontakt handeln. Weitere Informationen finden Sie unter [Get-ThrottlingPolicyAssociation](https://technet.microsoft.com/library/ff459241.aspx) in TechNet.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p115">**Get-ThrottlingPolicyAssociation** — Enables you to view the relationship between an object and its associated throttling policies. The object can be a user with a mailbox, a user without a mailbox, or a contact. For more information, see [Get-ThrottlingPolicyAssociation](https://technet.microsoft.com/library/ff459241.aspx) on TechNet.</span></span>

<span data-ttu-id="cdb50-250">Verwenden Sie den folgenden Befehl, um die standardmäßige Einschränkungsrichtlinie für Exchange 2010 anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-250">Use the following command to show the default throttling policy for Exchange 2010.</span></span>

<span data-ttu-id="cdb50-251">**Get-ThrottlingPolicy | Where-Object {$_.IsDefault -eq "True"} | format-list**</span><span class="sxs-lookup"><span data-stu-id="cdb50-251">**Get-ThrottlingPolicy | Where-Object {$_.IsDefault -eq "True"} | format-list**</span></span>

<span data-ttu-id="cdb50-252">Verwenden Sie den folgenden Befehl, um die globale Einschränkungsrichtlinie in Exchange 2013 anzuzeigen (die der standardmäßigen Einschränkungsrichtlinie in Exchange 2010 entspricht).</span><span class="sxs-lookup"><span data-stu-id="cdb50-252">Use the following command to show the global throttling policy (which equates to the default throttling policy in Exchange 2010) in Exchange 2013.</span></span>

<span data-ttu-id="cdb50-253">**Get-ThrottlingPolicy | Where-Object {$_.ThrottlingPolicyScope -eq "Global"} | format-list**</span><span class="sxs-lookup"><span data-stu-id="cdb50-253">**Get-ThrottlingPolicy | Where-Object {$_.ThrottlingPolicyScope -eq "Global"} | format-list**</span></span>

<span data-ttu-id="cdb50-p116">Verwenden Sie den folgenden Befehl, um die einem Benutzer in Exchange 2010 oder Exchange 2013 zugeordnete Einschränkungsrichtlinie anzuzeigen. Ersetzen Sie den Benutzernamen john@contoso.com durch den Benutzernamen des Zielbenutzers, für den Sie Informationen zu Einschränkungsrichtlinien abrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p116">Use the following command to show the throttling policy associated with a user in Exchange 2010 or Exchange 2013. Replace the user name john@contoso.com with the user name of the target user for whom you want to get throttling policy information.</span></span>

<span data-ttu-id="cdb50-256">**Get-ThrottlingPolicyAssociation john@contoso.com | format-list**</span><span class="sxs-lookup"><span data-stu-id="cdb50-256">**Get-ThrottlingPolicyAssociation john@contoso.com | format-list**</span></span>

<span data-ttu-id="cdb50-257">Bei Ausführung dieses Befehls in der Exchange-Verwaltungsshell wird eine Ausgabe ähnlich der folgenden generiert.</span><span class="sxs-lookup"><span data-stu-id="cdb50-257">Running this command in Exchange Management Shell results in an output similar to the following.</span></span>

```powershell
PS C:\>Get-ThrottlingPolicyAssociation john@contoso.com
RunspaceId               : 72153d6-9dce-2fae-8dbd-5ca5f760g2df
ObjectId                 : john
ThrottlingPolicyId       :
Name                     : john
Identity                 : FHXB-28178dom.contoso.com/Users/john
IsValid                  : True
NeedsToSuppressPii       : False
ExchangeVersion          : 0.10 (15.0.0.0)
DistinguishedName        : CN=john,CN=Users,DC=FHXB-28178dom,DC=contoso,DC=com
Guid                     : 2c10dab6-de28-1937-ad8g-535832613a08
```

> [!NOTE]
> <span data-ttu-id="cdb50-258">[!HINWEIS] Wenn die **ThrottlingPolicyId** -Eigenschaft leer ist, wird die Standardrichtlinie auf das Postfach angewendet.</span><span class="sxs-lookup"><span data-stu-id="cdb50-258">When the **ThrottlingPolicyId** property is blank, the default policy is applied to the mailbox.</span></span>

<span data-ttu-id="cdb50-259">Sie können Einschränkungsrichtlinien auf einem Exchange-Server mithilfe der Cmdlets [Set-ThrottlingPolicy](https://technet.microsoft.com/library/dd298094.aspx) und [Set-ThrottlingPolicyAssociation](https://technet.microsoft.com/library/ff459231.aspx) festlegen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-259">You can set throttling policy on an Exchange server by using the [Set-ThrottlingPolicy](https://technet.microsoft.com/library/dd298094.aspx) and [Set-ThrottlingPolicyAssociation](https://technet.microsoft.com/library/ff459231.aspx) cmdlets.</span></span> <span data-ttu-id="cdb50-260">Sie können nicht standardmäßige Einschränkungsrichtlinien mithilfe der Cmdlets [New-ThrottlingPolicy](https://technet.microsoft.com/library/dd351045.aspx) und [Remove-ThrottlingPolicy](https://technet.microsoft.com/library/dd351178.aspx) erstellen und entfernen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-260">You can create and remove non-default throttling policies by using the [New-ThrottlingPolicy](https://technet.microsoft.com/library/dd351045.aspx) and [Remove-ThrottlingPolicy](https://technet.microsoft.com/library/dd351178.aspx) cmdlets.</span></span>

> [!TIP]
> <span data-ttu-id="cdb50-p118">[!TIPP] Es wird empfohlen, Anwendungen so zu entwerfen, dass sie die standardmäßige Einschränkungsrichtlinie einhalten. Nehmen Sie nur dann Änderungen an standardmäßigen Einschränkungsrichtlinien vor, wenn der Clientanwendungsentwurf die Standardrichtlinie nicht berücksichtigen kann. Beachten Sie, dass weniger restriktive Einschränkungsrichtlinien die Dienstzuverlässigkeit beeinträchtigen können.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p118">We recommend that you design your applications to adhere to the default throttling policy. Only make changes to default throttling policies if your client application design cannot accommodate the default policy. Be aware that less restrictive throttling policies can negatively affect service reliability.</span></span>

## <a name="throttling-considerations-for-applications-that-use-ews-impersonation"></a><span data-ttu-id="cdb50-264">Überlegungen zu Einschränkungen für Anwendungen, die den EWS-Identitätswechsel verwenden</span><span class="sxs-lookup"><span data-stu-id="cdb50-264">Throttling considerations for applications that use EWS impersonation</span></span>

<span data-ttu-id="cdb50-p119">[Identitätswechsel](impersonation-and-ews-in-exchange.md) ist eine Autorisierungsmethode, die einem einzelnen Konto den Zugriff auf viele Konten ermöglicht. Wenn ein Dienstkonto die Identität von Benutzern annimmt, agiert es als diese Benutzer und übernimmt daher die Rechte, die diesen Benutzern zugewiesen sind. Protokolldateien zeichnen den Zugriff als den Benutzer auf, dessen Identität angenommen wird. Administratoren verwenden die rollenbasierte Zugriffssteuerung (Role-Based Access Control, RBAC), um den Identitätswechsel über die Exchange-Verwaltungsshell zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p119">[Impersonation](impersonation-and-ews-in-exchange.md) is an authorization method that enables a single account to access many accounts. When a service account impersonates users, it acts as the users and therefore assumes the rights that are assigned to those users. Log files record the access as the impersonated user. Administrators use role-based access control (RBAC) to configure impersonation via the Exchange Management Shell.</span></span>

<span data-ttu-id="cdb50-269">Wenn Identitätswechsel verwendet wird, gelten die Budgets für alle Einschränkungsschwellenwerte je nach Exchange-Version unterschiedlich.</span><span class="sxs-lookup"><span data-stu-id="cdb50-269">When impersonation is used, the budgets for all the throttling thresholds apply differently depending on the version of Exchange.</span></span> <span data-ttu-id="cdb50-270">Das Budget wird entweder für das Konto, dessen Identität angenommen wird, oder für das Dienstkonto verrechnet.</span><span class="sxs-lookup"><span data-stu-id="cdb50-270">The budget is either calculated against the account that is impersonated, or the service account.</span></span> <span data-ttu-id="cdb50-271">Wenn Ihre Anwendung Multithreaded ist und gleichzeitige Anforderungen an mehrere Postfächer stellt, sollten Sie berücksichtigen, wie sich der einschränkungsschwellenwert auf die Leistung Ihrer Anwendung auswirkt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-271">If your application is multi-threaded and makes concurrent requests against multiple mailboxes, you should consider how the throttling threshold will affect your application's performance.</span></span> <span data-ttu-id="cdb50-272">Im Allgemeinen sollten Sie die folgenden Grenzwerte für Dienstkonten berücksichtigen, wenn Sie eine dienstbasierte Anwendung erstellen, die Identitätswechsel für den Zugriff auf alle Postfächer verwendet:</span><span class="sxs-lookup"><span data-stu-id="cdb50-272">In general, be aware of the following limits on service accounts when you create a service-based application that uses impersonation to access all mailboxes:</span></span>

- <span data-ttu-id="cdb50-273">Bei Verwendung von Identitätswechsel hat das Dienstkonto ein getrenntes Budget für die folgenden Richtlinienparameter:</span><span class="sxs-lookup"><span data-stu-id="cdb50-273">When you use Impersonation, the service account has a separate budget for the following policy parameters:</span></span>

  - <span data-ttu-id="cdb50-274">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="cdb50-274">**EWSMaxConcurrency**</span></span>

  - <span data-ttu-id="cdb50-275">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="cdb50-275">**EWSPercentTimeInAD**</span></span>

  - <span data-ttu-id="cdb50-276">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="cdb50-276">**EWSPercentTimeInCAS**</span></span>

  - <span data-ttu-id="cdb50-277">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="cdb50-277">**EWSPercentTimeInMailboxRPC**</span></span>

  - <span data-ttu-id="cdb50-278">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="cdb50-278">**EWSMaxSubscriptions**</span></span>

  - <span data-ttu-id="cdb50-279">**EWSFastSearchTimeoutInSeconds**</span><span class="sxs-lookup"><span data-stu-id="cdb50-279">**EWSFastSearchTimeoutInSeconds**</span></span>

  - <span data-ttu-id="cdb50-280">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="cdb50-280">**EWSFindCountLimit**</span></span>

- <span data-ttu-id="cdb50-p121">Das **EWSMaxConcurrency** -Budget wird vom Dienstkonto und von dem Konto, dessen Identität angenommen wird, gemeinsam verwendet, und zwar für alle Verbindungen mit Exchange-Versionen vor Exchange 2010 Service Pack 2 (SP2) Update Rollup 4 (RU4). Ab Exchange 2010 SP2 RU4 und einschließlich Exchange Online verwendet der Dienstkontozugriff ein vom **EWSMaxConcurrency** -Budget des Benutzers getrenntes Budget. Weitere Informationen zum Update auf die Exchange-Einschränkungsrichtlinie für gleichzeitige Verbindungen für EWS finden Sie unter [Hinweise zum Updaterollup 4 für Exchange Server 2010 Servicepack 2](https://support.microsoft.com/kb/2706690).</span><span class="sxs-lookup"><span data-stu-id="cdb50-p121">The **EWSMaxConcurrency** budget is shared for the service account and the account being impersonated for all connections to versions of Exchange earlier than Exchange 2010 Service Pack 2 (SP2) Update Rollup 4 (RU4). Starting with Exchange 2010 SP2 RU4, and including Exchange Online, the service account access uses a separate budget from the user **EWSMaxConcurrency** budget. For more information about the update to the Exchange concurrent connection throttling policy for EWS, see [Description of Update Rollup 4 for Exchange Server 2010 Service Pack 2](https://support.microsoft.com/kb/2706690).</span></span>

    <span data-ttu-id="cdb50-p122">EWS-Streamingbenachrichtigungen in Exchange-Versionen ab Exchange 2010 und einschließlich Exchange Online haben ein zusätzliches geklontes **EWSMaxConcurrency** -Budget von allen anderen EWS-Clientverbindungen. Verbindungen für Streamingbenachrichtigungen werden mit einem von allen anderen EWS-Vorgängen getrennten Budget verrechnet. Das maximale Parallelitätsbudget für Streamingbenachrichtigungen besteht tatsächlich aus zwei verschiedenen Budgets: einem Budget für alle Dienstkonten und einem Budget für das Konto. dessen Identität angenommen wird. Streamingbenachrichtigungen in Exchange Online und Exchange-Versionen ab Exchange 2013 verwenden den [HangingConnectionLimit](#throttling-considerations-for-ews-notification-applications), um die Anzahl der Verbindungen zu begrenzen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p122">EWS streaming notifications in versions of Exchange starting with Exchange 2010, and including Exchange Online, have an additional cloned **EWSMaxConcurrency** budget from all other EWS client connections. Streaming notification connections are counted against a separate budget than all other EWS operations. The streaming notification maximum concurrency budget is actually two different budgets: one budget is for all service accounts, and one budget is for the account being impersonated. Streaming notifications in Exchange Online and versions of Exchange starting with Exchange 2013 use the [HangingConnectionLimit](#throttling-considerations-for-ews-notification-applications) to limit the number of connections.</span></span>

    <span data-ttu-id="cdb50-p123">Nehmen wir beispielsweise einen **EWSMaxConcurrency** -Wert von fünf an. Ein Benutzer kann fünf geöffnete Pullbenachrichtigungsverbindungen haben, während ein Dienstkonto zeitgleich mit dem Benutzer fünf gleichzeitige Pullbenachrichtigungsverbindungen für das Postfach des Benutzers haben kann.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p123">For example, let's assume that **EWSMaxConcurrency** is equal to five. A user can have five open pull notification connections, while an service account can have five concurrent pull notification connections against the user's mailbox at the same time as the user.</span></span>

- <span data-ttu-id="cdb50-290">Die folgende Tabelle zeigt, wie **EWSMaxSubscriptions** -Einschränkungsbudgets für das Dienstkonto und das Konto, dessen Identität angenommen werden soll, verrechnet werden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-290">The following table identifies how **EWSMaxSubscriptions** throttling budgets are calculated between the service account and the account to impersonate.</span></span>

   <span data-ttu-id="cdb50-291">**Tabelle 2: EWSMaxSubscriptions-Budgetberechnung**</span><span class="sxs-lookup"><span data-stu-id="cdb50-291">**Table 2: EWSMaxSubscriptions budget accounting**</span></span>

   |<span data-ttu-id="cdb50-292">**Exchange-Version**</span><span class="sxs-lookup"><span data-stu-id="cdb50-292">**Exchange version**</span></span>|<span data-ttu-id="cdb50-293">**EWSMaxSubscriptions-Einschränkungsbudgetberechnung**</span><span class="sxs-lookup"><span data-stu-id="cdb50-293">**EWSMaxSubscriptions throttling budget accounting**</span></span>|
   |:-----|:-----|
   |<span data-ttu-id="cdb50-294">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="cdb50-294">Exchange Online</span></span>  <br/> |<span data-ttu-id="cdb50-295">Mit Zielpostfach verrechnet</span><span class="sxs-lookup"><span data-stu-id="cdb50-295">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="cdb50-296">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="cdb50-296">Exchange 2013</span></span>  <br/> |<span data-ttu-id="cdb50-297">Mit Zielpostfach verrechnet</span><span class="sxs-lookup"><span data-stu-id="cdb50-297">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="cdb50-298">Exchange 2010 SP3</span><span class="sxs-lookup"><span data-stu-id="cdb50-298">Exchange 2010 SP3</span></span>  <br/> |<span data-ttu-id="cdb50-299">Mit Zielpostfach verrechnet</span><span class="sxs-lookup"><span data-stu-id="cdb50-299">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="cdb50-300">Exchange 2010 SP2</span><span class="sxs-lookup"><span data-stu-id="cdb50-300">Exchange 2010 SP2</span></span>  <br/> |<span data-ttu-id="cdb50-p124">Mit aufrufendem Konto verrechnet</span><span class="sxs-lookup"><span data-stu-id="cdb50-p124">Charged against the calling account. Starting with Exchange 2010 SP2 RU4, the budget is charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="cdb50-303">Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="cdb50-303">Exchange 2010 SP1</span></span>  <br/> |<span data-ttu-id="cdb50-304">Mit aufrufendem Konto verrechnet</span><span class="sxs-lookup"><span data-stu-id="cdb50-304">Charged against the calling account.</span></span>  <br/> |
   |<span data-ttu-id="cdb50-305">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="cdb50-305">Exchange 2010</span></span>  <br/> |<span data-ttu-id="cdb50-306">Mit aufrufendem Konto verrechnet</span><span class="sxs-lookup"><span data-stu-id="cdb50-306">Charged against the calling account.</span></span>  <br/> |

- <span data-ttu-id="cdb50-307">Da das **EWSMaxSubscriptions** -Einschränkungsbudget mit dem Konto verrechnet wird, dessen Identität angenommen wird, ist die Anzahl der Postfächer, die ein Dienstkonto abonnieren und für die es Streamingbenachrichtigungen erhalten kann, unbegrenzt, solange der Identitätswechsel verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="cdb50-307">Because the **EWSMaxSubscriptions** throttling budget is charged against the account being impersonated, there is no limit on the number of mailboxes a service account can subscribe to and receive streaming notifications for, as long as impersonation is being used.</span></span> <span data-ttu-id="cdb50-308">Das Konto, dessen Identität angenommen wird, kann maximal  _n_ gleichzeitige Anforderungen pro Zielpostfach ausführen, wobei  _n_ der **EWSMaxSubscriptions** -Wert ist.</span><span class="sxs-lookup"><span data-stu-id="cdb50-308">For the account being impersonated, you can't have more than  _n_ concurrent requests per target mailbox, where  _n_ is the **EWSMaxSubscriptions** value.</span></span> <span data-ttu-id="cdb50-309">Wenn kein Identitätswechsel verwendet wird, sind für das gleiche Dienstkonto insgesamt maximal  _n_ gleichzeitige Anforderungen zulässig.</span><span class="sxs-lookup"><span data-stu-id="cdb50-309">If you were not using impersonation, the same service account could not have more than  _n_ concurrent requests total.</span></span> <span data-ttu-id="cdb50-310">Die Schlussfolgerung ist daher, dass sich mithilfe eines Identitätswechsels auf einem Dienstkonto die Anzahl von Postfächern, die Sie bedienen können, exponentiell erhöht.</span><span class="sxs-lookup"><span data-stu-id="cdb50-310">So, the takeaway is that by using impersonation on a service account, you exponentially increase the number of mailboxes you can service.</span></span> <span data-ttu-id="cdb50-311">Weitere Informationen finden Sie unter [Verwalten von Affinität zwischen einer Gruppe von Abonnements und Postfachserver in Exchange](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md).</span><span class="sxs-lookup"><span data-stu-id="cdb50-311">For more information, see [Maintain affinity between a group of subscriptions and the Mailbox server in Exchange](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md).</span></span>

- <span data-ttu-id="cdb50-p126">Die Richtlinienparameter **EWSPercentTimeInMailboxRPC**, **EWSPercentTimeInCAS** und **EWSPercentTimeInAD** beziehen sich auf Aktionen, die von einem einzigen Thread durchgeführt werden. Wenn eine Anwendung mehrere gleichzeitige Vorgänge ausführt, müssen Sie den kumulativen Effekt dieser Vorgänge auf das Benutzerressourcenbudget berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p126">The **EWSPercentTimeInMailboxRPC**, **EWSPercentTimeInCAS**, and **EWSPercentTimeInAD** policy parameters refer to actions performed by a single thread. When an application performs multiple concurrent operations, you should account for the cumulative effect of these operations on the user resource budget.</span></span>

## <a name="throttling-implications-for-ews-batch-requests"></a><span data-ttu-id="cdb50-314">Auswirkungen von Einschränkungen für EWS-Batchanforderungen</span><span class="sxs-lookup"><span data-stu-id="cdb50-314">Throttling implications for EWS batch requests</span></span>

<span data-ttu-id="cdb50-p127">Mithilfe von EWS können Sie mehrere Elementanforderungen zu einer einzigen Batchanforderung zusammenfassen, die vom Clientzugriffsserver ausgeführt wird. Dies sorgt für mehr Effizienz und Leistung. Wenn ein Exchange-Server eine Batchanforderung ausführt, wird nach Ausführung jedes einzelnen Elements im Batch das Budget des Benutzers überprüft. Wenn die Anwendung das Budget überschreitet, wird die Verarbeitung des nächsten Elements im Batch verzögert, bis das Budget für den betreffenden Benutzer wiederaufgeladen wurde. Um die erfolgreiche Ausführung von Anwendungen sicherzustellen, die Batchvorgänge nutzen, begrenzen Sie die Anzahl der Elementanforderungen in einem einzelnen Batch, und teilen Sie große Batches in mehrere kleinere Batches auf, um die Zuverlässigkeit der Ergebnisse zu erhöhen. Die Auswirkung eines Batchvorgangs auf bestimmte Einschränkungsschwellenwerte hängt von dem Typ der Anforderung, der Größe der zu verarbeitenden Elemente (z. B. in **UploadItems** - oder **ExportItems** -Vorgängen) und dem Postfachinhalt ab. Einschränkungsrichtlinien wirken sich insofern auf Batchvorgänge aus, als sie die Verarbeitung der Anforderung verlangsamen. Die aufrufende Person oder Anwendung muss daher länger auf die Antwort warten, und es kann zu einem Aufruftimeout kommen, da EWS die Ausführungszeit einer Batchanforderung auf eine Minute beschränkt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p127">EWS enables you to batch multiple item requests into a single request that is executed by the Client Access server. This allows for greater efficiency and performance. When an Exchange server executes a batched request, it checks the user's budget after the execution of each item within the batch. If the application is over budget, the processing of the next item in the batch is delayed until the budget for that user has recharged. To ensure that applications that use batch operations run successfully, limit the number of item requests that can be included in a single batch, and divide large batches across multiple smaller batches to increase the reliability of the results. The effect that a batch operation has on particular throttling thresholds depends on the type of the request, the size of the items to be processed (for example in **UploadItems** or **ExportItems** operations) and the mailbox content. Throttling policies affect batch operations by causing the request to take longer to process. The caller will therefore have to wait longer for the response, and, because EWS limits the execution time of a batch request to one minute, the call could time out.</span></span>

<span data-ttu-id="cdb50-323">Um die optimale Batchgröße für eine Anwendung zu bestimmen, führen Sie Komponententests mit verschiedenen Eingabesätzen durch, um sicherzustellen, dass in einer Produktionsumgebung keine Fehler in der Anwendung auftreten.</span><span class="sxs-lookup"><span data-stu-id="cdb50-323">To determine the optimum batch size for an application, perform unit testing using various input sets to ensure that the application does not encounter any errors in a production environment.</span></span>

## <a name="throttling-policy-parameters-that-affect-ews-search-operations"></a><span data-ttu-id="cdb50-324">Einschränkungsrichtlinienparameter mit Auswirkung auf EWS-Suchvorgänge</span><span class="sxs-lookup"><span data-stu-id="cdb50-324">Throttling policy parameters that affect EWS search operations</span></span>

<span data-ttu-id="cdb50-p128">[Suchvorgänge in EWS](search-and-ews-in-exchange.md) können sehr viel Zeit und Ressourcen beanspruchen, je nachdem, wie die Suche ausgeführt wird und welche Informationen angefordert werden. Zum Steuern des Ressourceneinsatzes bei Suchvorgängen können zwei Richtlinienparameter verwendet werden: **EWSFastSearchTimeoutInSeconds** und **EWSFindCountLimit**.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p128">[Search operations in EWS](search-and-ews-in-exchange.md) can require large amounts of time and resources, depending on how the search is run and what information is requested. To control resource usage during searches, two policy parameters take effect: **EWSFastSearchTimeoutInSeconds** and **EWSFindCountLimit**.</span></span>

<span data-ttu-id="cdb50-327">Der **EWSFastSearchTimeoutInSeconds** -Richtlinienparameter gibt die Zeitspanne in Sekunden an, die schnelle EWS-Suchläufe (auch als Inhaltsindizierungssuche bezeichnet) ausgeführt werden, bevor ein Timeout eintritt. Schnelle Suchläufe sind Suchvorgänge, die mithilfe einer AQS-Abfragezeichenfolge (Advanced Query Syntax, erweiterte Abfragesyntax) in einem [FindItem-Vorgang](https://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-327">The **EWSFastSearchTimeoutInSeconds** policy parameter specifies the amount of time, in seconds, that EWS fast searches (also known as content indexing search) run before they time out. A fast search is a search made by using an Advanced Query Syntax (AQS) query string in a [FindItem operation](https://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span></span>

<span data-ttu-id="cdb50-328">Sie können einen Exchange-Postfachordner auf zwei Arten durchsuchen:</span><span class="sxs-lookup"><span data-stu-id="cdb50-328">You can search an Exchange mailbox folder in two ways:</span></span>

- <span data-ttu-id="cdb50-329">Mithilfe einer Exchange-Informationsspeichersuche, die einen sequenziellen Scan aller Nachrichten im Zielsuchbereich durchführt</span><span class="sxs-lookup"><span data-stu-id="cdb50-329">By using an Exchange store search, which performs a sequential scan of all messages in the target search scope.</span></span>

- <span data-ttu-id="cdb50-330">Mithilfe des Exchange-Suchdiensts (Inhaltsindizierung)</span><span class="sxs-lookup"><span data-stu-id="cdb50-330">By using the Exchange Search service (content indexing).</span></span>

<span data-ttu-id="cdb50-p129">Bei beiden Suchvorgangstypen können Timeouts auftreten. Verwenden Sie nach Möglichkeit den Exchange-Suchdienst, da diese Suchvorgänge häufig für Postfachindizes ausgeführt werden und AQS-Abfragen verwenden. Das folgende Beispiel zeigt, wie eine AQS-Suche im Posteingang mithilfe von EWS und des Exchange-Suchdiensts ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p129">Both of these types of searches can result in timeouts. When possible, use the Exchange Search service because these searches are often targeted against mailbox indexes and use AQS queries. The following example shows how to perform an AQS search of the Inbox by using EWS and the Exchange Search service.</span></span>

```cs
ItemView iv = new ItemView(1000);
FindItemsResults<Item> fiitems = service.FindItems(WellKnownFolderName.Inbox, "subject:football", iv);
```

<span data-ttu-id="cdb50-p130">Wenn Sie keine AQS-Suche verwenden können, vermeiden Sie übermäßig komplexe Suchfilter. Vermeiden Sie nach Möglichkeit außerdem, Suchfilter auf der Grundlage berechneter Werte zu erstellen, wenn die Abfrage erweiterte MAPI-Eigenschaften enthält. Die AQS-Suche wurde in Exchange 2010 eingeführt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p130">If you can't use an AQS search, avoid using overly complex search filters. Also try to avoid creating search filters based on computed values if the query involves extended MAPI properties. AQS search was introduced in Exchange 2010.</span></span>

> [!NOTE]
> <span data-ttu-id="cdb50-p131">[!HINWEIS] Die erste Ausführung einer komplexen Suchabfrage des Exchange-Informationsspeichers ist sehr langsam und führt möglicherweise zu einem Timeout. Danach erfolgt die Antwort auf die Abfrage schneller. Weitere Informationen zu den Exchange-Back-End-Serverprozessen, die während Suchabfragen des Exchange-Informationsspeichers stattfinden, finden Sie unter [Grundlagen der Auswirkungen einer großen Anzahl von Elementen und mit Einschränkungen versehener Ansichten auf die Leistung](https://technet.microsoft.com/library/cc535025%28EXCHG.80%29.aspx) in TechNet. Die Verwendung eines **SearchFilter** erstellt eine dynamische Beschränkung, die bei zukünftigen ähnlichen Abfragen hilfreich ist. Da diese Beschränkungen jedoch dynamisch sind, sind sie nicht dauerhaft oder zuverlässig und werden nach maximal drei Tagen gelöscht.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p131">The first time you run a complex Exchange store search query, it runs very slowly and may time out. After that, the query will respond more quickly. For more information about the backend Exchange server processes that occur during Exchange store search queries, see [Understanding the Performance Impact of High Item Counts and Restricted Views](https://technet.microsoft.com/library/cc535025%28EXCHG.80%29.aspx) on TechNet. Using a **SearchFilter** creates a dynamic restriction that helps similar queries in the future, but because these restrictions are dynamic in nature, they are not permanent or reliable, and are deleted after a maximum of three days.</span></span>

<span data-ttu-id="cdb50-p132">Der **EWSFindCountLimit** -Richtlinienparameter gibt die maximale Anzahl an Elementen aus den Ergebnissen eines **FindItem** - oder **FindFolder** -Vorgangs an, die gleichzeitig für einen bestimmten Benutzer im Arbeitsspeicher auf dem Clientzugriffsserver vorhanden sein können. Jedes Element bzw. jeder Ordner, das bzw. den EWS in einer **FindItem** - oder **FindFolder** -Anforderung verarbeitet, wird mit dem im **EWSFindCountLimit** -Element angegebenen Budget verrechnet. Wenn eine Antwort an die anfordernde Person zurückgesendet wird, wird die FindCount-Gebühr für den aktuellen Aufruf freigegeben. Welche Antwort der Server bei Überschreitung des Budgets an eine anfordernde Person zurückgibt, basiert auf dem Wert des **RequestServerVersion** -Elements und darauf, ob die anfordernde Person die Auslagerung angegeben hat. Wenn der Wert des **RequestServerVersion** -Elements Exchange 2010 oder eine frühere Exchange-Version angibt, sendet der Server eine Fehlerantwort mit einem Fehlercode. **ErrorServerBusy**. Wenn der Wert des **RequestServerVersion** -Elements eine Exchange-Version ab Exchange 2010 SP1 oder Exchange Online angibt, und der Client Auslagerung verwendet, gibt EWS möglicherweise ein teilweises Resultset anstelle eines Fehlers zurück. Die Anwendung sollte damit rechnen, dass EWS nicht alle Elemente zurückgibt. Wenn der Wert des **IncludesLastItemInRange** -Elements "false" ist, sollte die Anwendung eine weitere **FindItem** - oder **FindFolder** -Anforderung mit dem neuen Offset durchführen und fortfahren, bis das **IncludesLastItemInRange** -Element "true" zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p132">The **EWSFindCountLimit** policy parameter specifies the maximum number of items from the results of a **FindItem** or **FindFolder** operation that can exist in memory on a Client Access server at the same time for one user. Every item or folder that EWS processes in a **FindItem** or **FindFolder** request is counted against the budget specified in the **EWSFindCountLimit** element. When the response is sent back to the requester, the find count charge for the current call is released. The response the server returns to a requester when the budget is exceeded is based on the **RequestServerVersion** element value and whether the requester specified paging. When the value of the **RequestServerVersion** element indicates Exchange 2010 or an earlier version of Exchange, the server sends a failure response with error code **ErrorServerBusy**. If the value of the **RequestServerVersion** element indicates a version of Exchange starting with Exchange 2010 SP1 or Exchange Online, and the client is using paging, EWS may return a partial result set instead of an error. Your application should expect that EWS might not return all items. If the value of the **IncludesLastItemInRange** element is false, the application should make another **FindItem** or **FindFolder** request with the new offset and continue until the **IncludesLastItemInRange** element returns true.</span></span>

<span data-ttu-id="cdb50-p133">Bei Ausführung eines **FindItem** - oder **FindFolder** -Vorgangs ist die Verwendung von Auslagerung wichtig. Die verwaltete EWS-API erzwingt die Verwendung von Auslagerung, wenn Sie jedoch andere Methoden wie z. B. EWS-Proxyobjekte oder Raw-SOAP verwenden, muss die Auslagerung explizit festgelegt werden. Das folgende Beispiel zeigt die Verwendung von Auslagerung in der verwalteten EWS-API.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p133">When you use a **FindItem** or **FindFolder** operation, it is important to use paging. The EWS Managed API enforces the use of paging, but if you are using other methods, such as EWS proxy objects or raw SOAP, you need to explicitly set paging. The following example shows how to use paging in the EWS Managed API.</span></span>

```cs
ItemView iv = new ItemView(1000);
FindItemsResults<Item> fiFindItemResults = service.FindItems(WellKnownFolderName.Inbox, iv);
```

> [!NOTE]
> <span data-ttu-id="cdb50-p134">[!HINWEIS] Die Standardrichtlinie in Exchange beschränkt die Seitengröße auf 1000 Elemente. Die Festlegung der Seitengröße auf einen größeren Wert hat keine praktischen Auswirkungen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p134">The default policy in Exchange limits the page size to 1000 items. Setting the page size to a value that is greater than this number has no practical effect.</span></span>

<span data-ttu-id="cdb50-p135">Anwendungen müssen außerdem berücksichtigen, dass der Wert des  _EWSFindCountLimit_-Einschränkungsparameters dazu führen kann, dass ein teilweises Resultset für Anwendungen zurückgegeben wird, die gleichzeitige Anforderungen ausführen. Das folgende Beispiel zeigt, wie die **MoreAvailable** -Eigenschaft in der verwalteten EWS-API verwendet wird, um die Aufnahme aller Ergebnisse in eine Abfrage sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p135">Applications should also account for the fact that the  _EWSFindCountLimit_ throttling parameter value may result in a partial result set being returned for applications that make concurrent requests. The following example shows how to use the **MoreAvailable** property in the EWS Managed API to ensure that all results are included in a query.</span></span>

```cs
ItemView iv = new ItemView(1000);
service.TraceEnabled = false;
FindItemsResults<Item> fiResults = null;
Do
{
    fiResults = service.FindItems(WellKnownFolderName.Inbox, iv);
    PropertySet itItemPropSet = new PropertySet(BasePropertySet.IdOnly) { EmailMessageSchema.Body };
    //Process Items in Result Set
    iv.Offset += fiResults.Items.Count;
}
while (fiResults.MoreAvailable == true);
```

## <a name="throttling-policies-and-concurrency"></a><span data-ttu-id="cdb50-355">Einschränkungsrichtlinien und Parallelität</span><span class="sxs-lookup"><span data-stu-id="cdb50-355">Throttling policies and concurrency</span></span>

<span data-ttu-id="cdb50-p136">Parallelität bezeichnet die Anzahl der Verbindungen von einem bestimmten Benutzer. Eine Verbindung wird ab dem Moment gehalten, an dem eine Anforderung empfangen wird, bis eine Antwort an die anfordernde Person gesendet wird. Wenn Benutzer versuchen, mehr gleichzeitige Anforderungen zu stellen, als ihre Richtlinie zulässt, tritt beim erneuten Verbindungsversuch ein Fehler auf. Die bestehenden Verbindungen bleiben jedoch gültig. Einschränkungsrichtlinien können sich auf verschiedene Weise auf Parallelität auswirken.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p136">Concurrency refers to the number of connections from a specific user. A connection is held from the moment a request is received until a response is sent to the requester. If users try to make more concurrent requests than their policy allows, the new connection attempt fails. However, the existing connections remain valid. Throttling policies can affect concurrency in a number of different ways.</span></span>

<span data-ttu-id="cdb50-p137">Der **EWSMaxConcurrency** -Einschränkungsrichtlinienparameter legt die Anzahl der gleichzeitigen Verbindungen fest, die ein bestimmter Benutzer zur gleichen Zeit mit einem Exchange-Server haben kann. Um die maximal zuzulassende Anzahl gleichzeitiger Verbindungen zu bestimmen, betrachten Sie die Verbindungen, die von Outlook-Clients verwendet werden. Outlook 2007 und Outlook 2010 verwenden EWS zum Zugreifen auf Verfügbarkeits- und Abwesenheitsinformationen. Mac Outlook 2011 verwendet EWS für alle Clientzugriffsfunktionen. Abhängig von der Anzahl der Outlook-Clients, die aktiv eine Verbindung mit Postfach eines Benutzers herstellen, kann die Anzahl der für einen Benutzer verfügbaren gleichzeitigen Verbindungen beschränkt sein. Wenn Ihre Anwendung in einem einzigen Sicherheitskontext eine Verbindung mit mehreren Postfächern gleichzeitig herstellen muss, muss außerdem der Wert der **EWSMaxConcurrency** -Richtlinie berücksichtigt werden. Weitere Informationen über die Verwendung eines einzigen Sicherheitskontexts mit gleichzeitigen Verbindungen finden Sie unter [Einschränkungsüberlegungen für Anwendungen, die EWS-Identitätswechsel verwenden](#throttling-considerations-for-applications-that-use-ews-impersonation) weiter vorne in diesem Artikel.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p137">The **EWSMaxConcurrency** throttling policy parameter sets the number of concurrent connections that a specific user can have against an Exchange server at one time. To determine the maximum number of concurrent connections to allow, consider the connections that Outlook clients will use. Outlook 2007 and Outlook 2010 use EWS to access availability and Out of Office (OOF) information. Mac Outlook 2011 uses EWS for all client access functionality. Depending on the number of Outlook clients that are actively connecting to a user's mailbox, the number of concurrent connections available for a user might be limited. Also, if your application has to connect to multiple mailboxes simultaneously while using a single security context, it is important to take the value of the **EWSMaxConcurrency** policy into account. For more information about using a single security context with concurrent connections, see [Throttling considerations for applications that use EWS impersonation](#throttling-considerations-for-applications-that-use-ews-impersonation) earlier in this article.</span></span>

<span data-ttu-id="cdb50-p138">Anwendungen, die gleichzeitig Verbindungen mit mehreren Postfächer herstellen, müssen den Ressourceneinsatz auf Clientseite verfolgen können. Da EWS-Vorgänge anforderungs-/antwortbasiert sind, können Sie die ordnungsgemäße Funktion Ihrer Anwendungen innerhalb des **EWSMaxConcurrency** -Schwellenwerts sicherstellen, indem Sie die Anzahl der Verbindungen verfolgen, die zwischen dem Start einer Anforderung und dem Erhalt der Antwort stattfinden, und sicherstellen, dass höchstens zehn offene Anforderungen gleichzeitig vorliegen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p138">Applications that concurrently connect to multiple mailboxes have to be able to track resource usage on the client side. Because EWS operations are request/response-based, you can ensure that your applications function well within the **EWSMaxConcurrency** threshold by tracking the number of connections that occur between the start of a request and when the response is received and ensuring that no more than ten open requests occur concurrently.</span></span>

<span data-ttu-id="cdb50-p139">Der **EWSFindCountLimit** -Richtlinienparameter gibt die maximale Ergebnisgröße an, die ein **FindItem** - oder **FindFolder** -Vorgang auf einem Clientzugriffsserver für einen Benutzer gleichzeitig verwenden kann. Wenn eine Anwendung (oder auch mehrere Anwendungen) zwei gleichzeitige EWS- **FindItem** -Anforderungen ausführt, die jeweils 100 Elemente für einen bestimmten Benutzer zurückgeben, wird für **EWSFindCountLimit** ein Wert von 200 auf das Budget des betreffenden Benutzers angerechnet. Wenn die Rückgabe der ersten Anforderung erfolgt, sinkt das Budget auf 100, und bei Rückgabe der zweiten Anforderung sinkt das Budget auf 0 (null). Wenn dieselbe Anwendung zwei gleichzeitige Anforderungen für 1000 Elemente ausführt, beträgt der Budgetwert 2000 Elemente, was den **EWSFindCountLimit** -Wert überschreitet. Wenn das Budget des Benutzers für Elemente unter null fällt, resultiert die nächste Anforderung in einem Fehler, bis das Budget des Benutzer wieder auf eins oder mehr aufgeladen wurde.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p139">The **EWSFindCountLimit** policy parameter specifies the maximum result size a **FindItem** or **FindFolder** operation can use on a Client Access server at the same time for one user. If an application (or potentially multiple applications) makes two concurrent EWS **FindItem** requests that return 100 items each for a specific user, the **EWSFindCountLimit** charge against that specific user's budget will be 200. When the first request returns, the budget drops to 100, and when the second request returns, the budget drops to zero. If the same application were to make two simultaneous requests for 1000 items, the budget value would be 2000 items, which exceeds the **EWSFindCountLimit** value. If the user's budget for items drops below zero, the next request results in an error until the user's budget recharges to one or more.</span></span>

## <a name="throttling-considerations-for-ews-notification-applications"></a><span data-ttu-id="cdb50-375">Überlegungen zu Einschränkungen für EWS-Benachrichtigungsanwendungen</span><span class="sxs-lookup"><span data-stu-id="cdb50-375">Throttling considerations for EWS notification applications</span></span>

<span data-ttu-id="cdb50-376">Wenn Sie EWS-Benachrichtigungsanwendungen erstellen, die Push-, Pull- oder Streamingbenachrichtigungen verwenden, müssen Sie die Auswirkungen der Einschränkungsrichtlinien **EWSMaxSubscriptions** und **EWSMaxConcurrency** sowie des **HangingConnectionLimit** berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-376">If you are building EWS notification applications that make use of either push, pull, or streaming notifications, you should consider the implications of the **EWSMaxSubscriptions** and the **EWSMaxConcurrency** throttling policies, and the **HangingConnectionLimit**.</span></span>

<span data-ttu-id="cdb50-p140">Der **EWSMaxSubscriptions** -Richtlinienparameter definiert die maximale Anzahl an aktiven Push-, Pull- und Streamingabonnements, über die ein Benutzer auf einem bestimmten Clientzugriffsserver gleichzeitig verfügen kann. Dies wird je nach Exchange-Version anders budgetiert. Der Standardwert für diesen Parameter ist je nach Exchange-Version unterschiedlich. Mit der **SubscribeToAllFolders** -Eigenschaft kann ein Benutzer alle Ordner in einem Postfach abonnieren; hierbei wird ein einziges Abonnement auf das **EWSMaxSubscriptions** -Budget angerechnet. Benutzer können einzelne Ordner abonnieren, wobei jedes Ordnerabonnement auf das **EWSMaxSubscriptions** -Budget angerechnet wird, und zwar bis zu einem vom Wert des **EWSMaxSubscriptions** -Parameters festgelegten Grenzwert (Benutzer können z. B. 20 Kalenderordner in verschiedenen Postfächern abonnieren, wenn **EWSMaxSubscriptions** auf 20 festgelegt ist).</span><span class="sxs-lookup"><span data-stu-id="cdb50-p140">The **EWSMaxSubscriptions** policy parameter specifies the maximum number of active push, pull, and streaming subscriptions that a user can have on a specific Client Access server at the same time. Different versions of Exchange have different default values for this parameter. A user can subscribe to all folders in a mailbox by using the **SubscribeToAllFolders** property - this uses a single subscription against the **EWSMaxSubscriptions** budget. Users can subscribe to individual folders, with each folder subscription counting towards the **EWSMaxSubscriptions** budget, up to the limit set by the value of the **EWSMaxSubscriptions** parameter (for example, users can subscribe to 20 calendar folders in different mailboxes if **EWSMaxSubscriptions** is set to 20).</span></span>

<span data-ttu-id="cdb50-381">Informationen zum Identitätswechsel und zum **EWSMaxSubscriptions** -Parameter finden Sie unter [Einschränkungsüberlegungen für Anwendungen, die EWS-Identitätswechsel verwenden](#throttling-considerations-for-applications-that-use-ews-impersonation) weiter vorne in diesem Artikel.</span><span class="sxs-lookup"><span data-stu-id="cdb50-381">For information about impersonation and the **EWSMaxSubscriptions** parameter, see [Throttling considerations for applications that use EWS impersonation](#throttling-considerations-for-applications-that-use-ews-impersonation) earlier in this article.</span></span>

<span data-ttu-id="cdb50-382">Auch der **EWSMaxConcurrency** -Richtlinienparameter kann ein Problem für EWS-Benachrichtigungen darstellen. Beispiel:</span><span class="sxs-lookup"><span data-stu-id="cdb50-382">The **EWSMaxConcurrency** policy parameter can also be an issue for EWS notifications; for example:</span></span>

- <span data-ttu-id="cdb50-383">Wenn EWS die Anzahl der Verbindungen für den Besitzer des Abonnements erhöht, während ein Pushabonnement eine Benachrichtigung generiert.</span><span class="sxs-lookup"><span data-stu-id="cdb50-383">When EWS increments the connection count for the owner of the subscription while the notification is being generated by a push subscription.</span></span>

- <span data-ttu-id="cdb50-384">Wenn eine Anwendung dafür entwickelt wurde, mehrere Benutzerpostfächer zu überwachen, und Benutzer gleichzeitige Benachrichtigungen für eine Instanz einer Nachricht erhalten, die an eine Verteilerliste gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="cdb50-384">When an application is designed to listen to multiple users' mailboxes, and users receive simultaneous notifications for an instance of a message that is sent to a distribution list.</span></span>

<span data-ttu-id="cdb50-385">Wenn die Benachrichtigungsanwendung Multithreaded ist und gleichzeitige Verbindungsanforderungen enthält, um weitere Informationen zu einer bestimmten Nachricht abzurufen, die von einem Benutzerkonto empfangen wurde, kann die **EWSMaxConcurrency** -Richtlinien Grenze überschritten werden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-385">If the notification application is multi-threaded and makes simultaneous connection requests to get more information about a particular message that was received by a user account, the **EWSMaxConcurrency** policy limit can be exceeded.</span></span> <span data-ttu-id="cdb50-386">Um dies zu berücksichtigen, können Sie die gleichzeitigen Verbindungen in Ihrer Anwendung überwachen, einschließlich derjenigen, die möglicherweise vom Server verwendet werden, und Sie können Anforderungswarteschlangen auf dem Client implementieren.</span><span class="sxs-lookup"><span data-stu-id="cdb50-386">To account for this, consider monitoring the concurrent connections in your application, including those that might be used by the server, and implementing request queuing on the client.</span></span>

<span data-ttu-id="cdb50-p142">Der **HangingConnectionLimit** gilt nur für Streamingbenachrichtigungen. Dieser Grenzwert wird in der Datei "Web.config" festgelegt, was bedeutet, dass ein Exchange-Administrator diesen Wert auf einem lokalen Exchange-Server festlegen kann, aber Exchange Online-Postfächer den Standardwert für diesen Grenzwert (3 für Exchange Online und Exchange 2013) verwenden müssen. Weitere Informationen finden Sie unter [Welche Drosselung Werte muss ich berücksichtigen?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling)</span><span class="sxs-lookup"><span data-stu-id="cdb50-p142">The **HangingConnectionLimit** is only applicable to streaming notifications. This limit is set in the web.config file, which means that an Exchange administrator can set this value on an on-premises Exchange server, but Exchange Online mailboxes must use the default value for this limit, which is 3 for both Exchange Online and Exchange 2013. To learn more, see [What throttling values do I need to take into consideration?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span></span>

## <a name="throttling-policy-and-application-performance"></a><span data-ttu-id="cdb50-390">Einschränkungsrichtlinie und Anwendungsleistung</span><span class="sxs-lookup"><span data-stu-id="cdb50-390">Throttling policy and application performance</span></span>

<span data-ttu-id="cdb50-391">Die folgenden drei Parameter der **PercentTimeIn** -Einschränkungsrichtlinie wirken sich auf die Zeitspanne aus, die eine ESW-Anwendung auf einem Clientzugriffsserver nutzen kann:</span><span class="sxs-lookup"><span data-stu-id="cdb50-391">The following three parameters of the **PercentTimeIn** throttling policy affect the amount of time an EWS application can consume on a Client Access server:</span></span>

- <span data-ttu-id="cdb50-392">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="cdb50-392">**EWSPercentTimeInAD**</span></span>

- <span data-ttu-id="cdb50-393">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="cdb50-393">**EWSPercentTimeInCAS**</span></span>

- <span data-ttu-id="cdb50-394">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="cdb50-394">**EWSPercentTimeInMailboxRPC**</span></span>

<span data-ttu-id="cdb50-p143">Die in den **PercentTimeIn** -Richtlinienparametern angegebenen Werte geben die Zeitspanne an, die einem Thread zugewiesen wird, der eine Anforderung ausführt. Nehmen wir beispielweise für **EWSPercentTimeInCAS** den Wert 90 an. Wenn ein Prozess zwei gleichzeitige Anforderungen ausführt, die jeweils 54 Sekunden lang Code auf dem Clientzugriffsserver ausführen, verwendet der Prozess 108 Sekunden in einem 60-Sekunden-Fenster. Dies stellt einen **EWSPercentTimeInCAS** -Parameterwert von 180 Prozent dar.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p143">The values specified in the **PercentTimeIn** policy parameters indicate the amount of time that one thread making one request is allocated. For example, assuming a **EWSPercentTimeInCAS** value of 90, if a process makes two concurrent requests that spend 54 seconds each running code on the Client Access server, the process uses 108 seconds in a 60 second window. This represents an **EWSPercentTimeInCAS** parameter value of 180 percent.</span></span>

> [!NOTE]
> <span data-ttu-id="cdb50-p144">[!HINWEIS] Der **EWSPercentTimeInCAS** -Parameterwert ist eine überlappende Obermenge der Parameterwerte **EWSPercentTimeInAD** und **EWSPercentTimeInMailboxRPC**. Dies bedeutet, dass die Ausgaben für Verarbeitungszeit auf dem Clientzugriffsserver immer höher sein werden als die Ausgaben für **EWSPercentTimeInAD** und **EWSPercentTimeInMailboxRPC**. Dies liegt daran, dass die Exchange-Komponente nur dann einen Active Directory- oder RPC-Aufruf durchführen kann, wenn sie bereits Clientzugriffsserver-Code ausführt. Darüber hinaus laufen die Ausgaben für Verarbeitungszeit für **EWSPercentTimeInCAS** während der Ausführung von LDAP- oder RPC-Aufrufen weiter. Obwohl die Anforderung möglicherweise synchron auf eine Antwort von Active Directory Domain Services (AD DS) oder dem Exchange-Informationsspeicher wartet, verbraucht der Prozess trotzdem einen Thread auf dem Server, daher sollte dem Thread diese Nutzung in Rechnung gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p144">The **EWSPercentTimeInCAS** parameter value is an overlapping superset of the **EWSPercentTimeInAD** and **EWSPercentTimeInMailboxRPC** parameter values. This means that the expenditure in Client Access server processing time will always be larger than the expenditures in **EWSPercentTimeInAD** and **EWSPercentTimeInMailboxRPC**. This is because for the Exchange component to make an Active Directory or RPC call, it must already be running Client Access server code. In addition, the expenditure in processing time for **EWSPercentTimeInCAS** doesn't stop while LDAP or RPC calls are being made. Although the request might be synchronously waiting for a response from Active Directory Domain Services (AD DS) or the Exchange store, the process is still consuming a thread on the server, and therefore the thread should continue to be charged for that usage.</span></span>

<span data-ttu-id="cdb50-403">Die von einer Anwendung innerhalb eines 60-Sekunden-Zeitraums genutzte CPU-Zeit überschreitet diese Einschränkungsgrenzwerte möglicherweise; daher ist es wichtig, den Umfang und die Art der gestellten Anforderungen zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-403">The amount of CPU time an application may take in a 60-second period might exceed these throttling limits; therefore, it is important to consider the volume and type of requests that are being made.</span></span> <span data-ttu-id="cdb50-404">Beispielsweise kann ein großer Batch gleichzeitig ausgeführter **ResolveNames** -Vorgänge den Wert des **EWSPercentTimeInAD** -Richtlinienparameters überschreiten.</span><span class="sxs-lookup"><span data-stu-id="cdb50-404">For example, a large batch of **ResolveNames** operations that are made simultaneously can exceed the **EWSPercentTimeInAD** policy parameter value.</span></span> <span data-ttu-id="cdb50-405">Die Richtlinienwerte, die in der Standardeinschränkungsrichtlinie enthalten sind, sind so konzipiert, dass die meisten EWS-Anwendungen ohne Probleme funktionieren. Wenn Multithreaded-Anwendungen mit hohem Volumen eine große Menge von Anforderungen auf einem bestimmten Client Zugriffsserver platzieren, kann dies jedoch zu Problemen führen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-405">The policy values that are contained in the default throttling policy are designed to allow most EWS applications to function without issue; however, when multi-threaded high-volume applications place a large volume of requests on one particular Client Access server, this can create problems.</span></span> <span data-ttu-id="cdb50-406">Um dies zu vermeiden, können Sie die Größe der auf dem Server ausgeführten Batches beschränken.</span><span class="sxs-lookup"><span data-stu-id="cdb50-406">To avoid this, consider limiting the size of batches that are going to execute against the server.</span></span>

## <a name="throttling-policies-and-applications-that-send-a-large-volume-of-email"></a><span data-ttu-id="cdb50-407">Einschränkungsrichtlinien und Anwendungen mit hohem E-Mail-Versandvolumen</span><span class="sxs-lookup"><span data-stu-id="cdb50-407">Throttling policies and applications that send a large volume of email</span></span>

<span data-ttu-id="cdb50-408">Die standardmäßigen Einschränkungsrichtlinien enthalten drei Richtlinienparameter zur Ratenbegrenzung, die Auswirkungen auf Anwendungen haben können, die EWS zum Senden einer großen Anzahl von Nachrichten oder zum Senden von Nachrichten in großen Batches innerhalb kurzer Zeit nutzen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-408">The default throttling policies include three rate limit policy parameters that can affect applications that use EWS to send a large volume of messages or send messages in large batches in a short period of time.</span></span>

> [!NOTE]
> <span data-ttu-id="cdb50-p146">[!HINWEIS] Im Allgemeinen wird empfohlen, EWS nicht für den Massenversand von E-Mail-Nachrichten einzusetzen. Verwenden Sie einen SMTP-Host, der auf Massen-E-Mail-Dienste spezialisiert ist, wenn Sie häufig einen Massenversand großer E-Mail-Nachrichten durchführen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p146">In general, we recommend that you do not use EWS to send bulk email. Use an SMTP host that specializes in bulk mail services to submit frequent large bulk email messages.</span></span>

<span data-ttu-id="cdb50-p147">Der **MessageRateLimit** -Richtlinienparameter gibt die Anzahl der Nachrichten pro Minute an, die von einem beliebigen Exchange-Client wie z. B. EWS gesendet werden können. Standardmäßig ist diese Richtlinie auf 30 Nachrichten pro Minute festgelegt. Für normale Benutzer ist dies in der Regel ausreichend. Bei Anwendungen, die große Batches mit E-Mail-Nachrichten senden, z. B. als Teil eines Fakturierungsprogramms, können jedoch Probleme auftreten. Wenn dieser Richtliniengrenzwert überschritten wird, wird die Nachrichtenübermittlung für das Postfach verzögert. Insbesondere kann es passieren, dass Nachrichten für einen längeren Zeitraum im Ordner "Postausgang" oder "Entwürfe" angezeigt werden, wenn ein Benutzer oder eine Anwendung eine größere Anzahl von Nachrichten sendet, als vom Wert des **MessageRateLimit** -Parameters angegeben. Achten Sie darauf, dass Sie diesen Aspekt bei der Entwicklung eines Übermittlungsverfolgungssystems berücksichtigen, insbesondere, wenn die Anwendung ein Postfach verwendet, mit dem sich Benutzer über Outlook verbinden. Wenn verzögerte Elemente im Ordner "Postausgang" oder "Entwürfe" gespeichert werden, können Benutzer dies als Fehler interpretieren.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p147">The **MessageRateLimit** policy parameter specifies the number of messages per minute that can be submitted by any Exchange client, including EWS. By default, this policy is set to 30 messages per minute. For ordinary users, this is generally sufficient. However, applications that send large batches of email messages, for example as part of an invoicing program, can run into problems. When this policy limit is exceeded, message delivery for the mailbox is delayed. Specifically, messages will appear in the Outbox or Drafts folder for longer periods of time when a user or application submits a larger number of messages than the value specified by the **MessageRateLimit** parameter. Be sure to consider this when you are developing a delivery tracking system, especially if your application uses a mailbox that users connect to via Outlook. When deferred items are stored in the Outbox or drafts folder, users might interpret that as an error.</span></span>

<span data-ttu-id="cdb50-p148">Der **RecipientRateLimit** -Richtlinienparameter gibt den Grenzwert für die Anzahl von Empfängern an, die ein Benutzer in einem Zeitraum von 24 Stunden adressieren darf. Wenn dieser Wert auf 500 festgelegt ist, bedeutet dies beispielsweise, dass ein einzelnes Exchange-Postfachkonto Nachrichten an maximal 500 Empfänger pro Tag senden darf. Dieser Grenzwert gilt für Nachrichten an Empfänger innerhalb und außerhalb der Organisation. Dieser Standardgrenzwert verursacht möglicherweise Probleme bei einigen Branchenanwendungen, die Rechnungsläufe am Monatsende ausführen und Nachrichten an mehr als diese Anzahl von Empfängern senden müssen. Sie können externe Dienste verwenden, die die Batchverarbeitung von Nachrichten ermöglichen, oder separate lokale ausgehende Relaylösungen, um diese Einschränkung zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p148">The **RecipientRateLimit** policy parameter specifies the limit on the number of recipients that a user can address in a 24-hour period. For example, if this value is set to 500, it means that a single Exchange mailbox account can send messages to no more than 500 recipients each day. This limit applies to messages to recipients that are inside and outside the organization. This default limit might cause problems for some line-of-business applications that do end-of-month invoice runs and need to send messages to more than this number of recipients. You can use external services that enable batch processing of messages or separate on-premises outbound relay solutions to work around this limitation.</span></span>

<span data-ttu-id="cdb50-p149">Der **ForwardeeLimit** -Richtlinienparameter gibt die maximale Anzahl von Empfängern an, an die Nachrichten mithilfe von Posteingangsregeln weitergeleitet oder umgeleitet werden können. Dieser Parameter beschränkt nicht die Anzahl der Nachrichten, die an die Empfänger weitergeleitet oder umgeleitet werden können.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p149">The **ForwardeeLimit** policy parameter specifies the maximum number of recipients that messages can be forwarded or redirected to by means of Inbox rules. This parameter doesn't limit the number of messages that can be forwarded or redirected to the recipients.</span></span>

## <a name="errors-generated-when-throttling-limits-are-exceeded"></a><span data-ttu-id="cdb50-426">Bei Überschreitung von Einschränkungsgrenzwerten generierte Fehler</span><span class="sxs-lookup"><span data-stu-id="cdb50-426">Errors generated when throttling limits are exceeded</span></span>

<span data-ttu-id="cdb50-427">Wenn Einschränkungsrichtlinien überschritten werden, generiert EWS einen der in der folgenden Tabelle aufgeführten Fehler.</span><span class="sxs-lookup"><span data-stu-id="cdb50-427">When throttling polices are exceeded, EWS generates one of the errors listed in the following table.</span></span>

<span data-ttu-id="cdb50-428">**Tabelle 3: Fehler bei Überschreitung von Einschränkungsgrenzwerten**</span><span class="sxs-lookup"><span data-stu-id="cdb50-428">**Table 3: Throttling limit errors**</span></span>

|<span data-ttu-id="cdb50-429">**Fehler**</span><span class="sxs-lookup"><span data-stu-id="cdb50-429">**Error**</span></span>|<span data-ttu-id="cdb50-430">**Einschränkungsrichtlinienparameter**</span><span class="sxs-lookup"><span data-stu-id="cdb50-430">**Throttling policy parameter**</span></span>|<span data-ttu-id="cdb50-431">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="cdb50-431">**Description**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="cdb50-432">ErrorExceededConnectionCount</span><span class="sxs-lookup"><span data-stu-id="cdb50-432">ErrorExceededConnectionCount</span></span>  <br/> |<span data-ttu-id="cdb50-433">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="cdb50-433">**EWSMaxConcurrency**</span></span> <br/> |<span data-ttu-id="cdb50-434">Gibt an, dass mehr gleichzeitige Anforderungen an den Server gestellt werden, als die Richtlinie des Benutzers zulässt.</span><span class="sxs-lookup"><span data-stu-id="cdb50-434">Indicates that there are more concurrent requests against the server than are allowed by a user's policy.</span></span>  <br/> |
|<span data-ttu-id="cdb50-435">ErrorExceededSubscriptionCount</span><span class="sxs-lookup"><span data-stu-id="cdb50-435">ErrorExceededSubscriptionCount</span></span>  <br/> |<span data-ttu-id="cdb50-436">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="cdb50-436">**EWSMaxSubscriptions**</span></span> <br/> |<span data-ttu-id="cdb50-437">Gibt an, dass die maximale Abonnementanzahl für Richtlinieneinschränkungen eines Benutzers überschritten wurde.</span><span class="sxs-lookup"><span data-stu-id="cdb50-437">Indicates that a user's throttling policy maximum subscription count has been exceeded.</span></span>  <br/> |
|<span data-ttu-id="cdb50-438">ErrorExceededFindCountLimit</span><span class="sxs-lookup"><span data-stu-id="cdb50-438">ErrorExceededFindCountLimit</span></span>  <br/> |<span data-ttu-id="cdb50-439">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="cdb50-439">**EWSFindCountLimit**</span></span> <br/> |<span data-ttu-id="cdb50-440">Gibt an, dass ein Suchvorgangsaufruf die Gesamtzahl der Elemente überschritten hat, die zurückgegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="cdb50-440">Indicates that a search operation call has exceeded the total number of items that can be returned.</span></span>  <br/> |
|<span data-ttu-id="cdb50-441">ErrorServerBusy</span><span class="sxs-lookup"><span data-stu-id="cdb50-441">ErrorServerBusy</span></span>  <br/> |<span data-ttu-id="cdb50-442">**EWSPercentTimeInMailboxRPC**         **EWSPercentTimeInCAS**         **EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="cdb50-442">**EWSPercentTimeInMailboxRPC**         **EWSPercentTimeInCAS**         **EWSPercentTimeInAD**</span></span> <br/> |<span data-ttu-id="cdb50-p150">Tritt auf, wenn der Server ausgelastet ist. Der mit ErrorServerBusy-Fehlern zurückgegebene BackOffMilliseconds-Wert gibt an, wie lange der Client warten muss, bevor die Anforderung erneut gesendet werden kann, für deren Antwort dieser Fehlercode zurückgegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p150">Occurs when the server is busy. The BackOffMilliseconds value returned with ErrorServerBusy errors indicates to the client the amount of time it should wait until it should resubmit the request that caused the response that returned this error code.</span></span>  <br/> |

<span data-ttu-id="cdb50-445">Die folgende Tabelle enthält die HTTP-Statuscodes, die von Einschränkungsfehlern zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="cdb50-445">The following table lists the HTTP status codes that are returned by throttling errors.</span></span>

<span data-ttu-id="cdb50-446">**Tabelle 4: Von Einschränkungsfehlern zurückgegebene HTTP-Statuscodes**</span><span class="sxs-lookup"><span data-stu-id="cdb50-446">**Table 4: HTTP status codes returned by throttling errors**</span></span>

|<span data-ttu-id="cdb50-447">**HTTP-Statuscode**</span><span class="sxs-lookup"><span data-stu-id="cdb50-447">**HTTP status code**</span></span>|<span data-ttu-id="cdb50-448">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="cdb50-448">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="cdb50-449">HTTP 503</span><span class="sxs-lookup"><span data-stu-id="cdb50-449">HTTP 503</span></span>  <br/> |<span data-ttu-id="cdb50-p151">Gibt an, dass EWS-Anforderungen bei IIS in der Warteschlange stehen. Der Client sollte das Senden weiterer Anforderungen auf einen späteren Zeitpunkt verschieben.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p151">Indicates that EWS requests are queuing with IIS. The client should delay sending additional requests until a later time.</span></span>  <br/> |
|<span data-ttu-id="cdb50-452">HTTP 500</span><span class="sxs-lookup"><span data-stu-id="cdb50-452">HTTP 500</span></span>  <br/> |<span data-ttu-id="cdb50-p152">Zeigt einen internen Fehler mit dem ErrorServerBusy-Fehlercode an. Dies weist darauf hin, dass der Client das Senden weiterer Anforderungen auf einen späteren Zeitpunkt verschieben sollte. Die Antwort enthält möglicherweise einen Backoff-Hinweis namens BackOffMilliseconds. Falls vorhanden, verwenden Sie den Wert von BackOffMilliseconds als die Zeitspanne, die der Client bis zum erneuten Senden einer Anforderung wartet.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p152">Indicates an internal server error with the ErrorServerBusy error code. This indicates that the client should delay sending additional requests until a later time. The response may contain a back off hint called BackOffMilliseconds. If present, the value of BackOffMilliseconds should be used as the duration until the client resubmits a request.</span></span>  <br/> |
|<span data-ttu-id="cdb50-457">HTTP 200</span><span class="sxs-lookup"><span data-stu-id="cdb50-457">HTTP 200</span></span>  <br/> |<span data-ttu-id="cdb50-p153">Enthält eine auf dem EWS-Schema basierende Fehlerantwort mit einem ErrorInternalServerError-Fehlercode. Ein interner ErrorServerBusy-Fehlercode kann vorhanden sein. Dies weist darauf hin, dass der Client das Senden weiterer Anforderungen auf einen späteren Zeitpunkt verschieben sollte.</span><span class="sxs-lookup"><span data-stu-id="cdb50-p153">Contains an EWS schema-based error response with an ErrorInternalServerError error code. An inner ErrorServerBusy error code may be present. This indicates that the client should delay sending additional requests until a later time.</span></span>  <br/> |

## <a name="see-also"></a><span data-ttu-id="cdb50-461">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="cdb50-461">See also</span></span>

- [<span data-ttu-id="cdb50-462">Verwaltung von Exchange-Arbeitsauslastungen</span><span class="sxs-lookup"><span data-stu-id="cdb50-462">Exchange Workload Management</span></span>](https://technet.microsoft.com/library/jj150503.aspx)
- [<span data-ttu-id="cdb50-463">New-ThrottlingPolicy-Cmdlet</span><span class="sxs-lookup"><span data-stu-id="cdb50-463">New-ThrottlingPolicy cmdlet</span></span>](https://technet.microsoft.com/library/dd351045.aspx)
- [<span data-ttu-id="cdb50-464">Grundlegendes zu Clienteinschränkungsrichtlinien</span><span class="sxs-lookup"><span data-stu-id="cdb50-464">Understanding Client Throttling Policies</span></span>](https://technet.microsoft.com/library/dd297964.aspx)
- [<span data-ttu-id="cdb50-465">ThrottlingPolicy-Klasse</span><span class="sxs-lookup"><span data-stu-id="cdb50-465">ThrottlingPolicy Class</span></span>](https://msdn.microsoft.com/library/ff342496%28v=EXCHG.140%29.aspx)
- [<span data-ttu-id="cdb50-466">Einschränkungsrichtlinie und EWSFindCountLimit</span><span class="sxs-lookup"><span data-stu-id="cdb50-466">Throttling Policies and the EWSFindCountLimit</span></span>](https://blogs.msdn.com/b/exchangedev/archive/2010/03/12/throttling-policies-and-the-ewsfindcountlimit.aspx)
- [<span data-ttu-id="cdb50-467">Budgetmomentaufnahmen in den IIS-Protokollen</span><span class="sxs-lookup"><span data-stu-id="cdb50-467">Budget Snapshots in the IIS Logs</span></span>](https://blogs.msdn.com/b/exchangedev/archive/2010/03/10/budget-snapshots-in-the-iis-logs.aspx)

- [<span data-ttu-id="cdb50-468">Auswirkung der Einschränkung Ihrer Bereitstellung in Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="cdb50-468">Effects of Throttling on Your Deployment in Exchange 2010 SP1</span></span>](http://msexchangeteam.com/archive/2010/08/27/456040.aspx)
- [<span data-ttu-id="cdb50-469">Einschränkungsrichtlinienzuordnungen in Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="cdb50-469">Throttling Policy Associations in Exchange 2010 SP1</span></span>](http://msexchangeteam.com/archive/2010/08/02/455707.aspx)
- [<span data-ttu-id="cdb50-470">Einschränkungsrichtlinien und CPUStartPercent</span><span class="sxs-lookup"><span data-stu-id="cdb50-470">Throttling Policies and CPUStartPercent</span></span>](https://blogs.msdn.com/b/exchangedev/archive/2010/03/11/throttling-policies-and-cpustartpercent.aspx)
- [<span data-ttu-id="cdb50-471">Identitätswechsel und EWS in Exchange</span><span class="sxs-lookup"><span data-stu-id="cdb50-471">Impersonation and EWS in Exchange</span></span>](impersonation-and-ews-in-exchange.md)
