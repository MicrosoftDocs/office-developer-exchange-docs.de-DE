---
title: Transport-Agent-Konzepte in Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 0c700af8-2792-4d3f-8571-8860e0550d8e
description: Hier finden Sie Informationen dazu, wie sich die Transport-Agent-Pipeline und die Serverrollen Architektur in Exchange 2013 auf die Entwicklung von Transport-Agents auswirken, sowie die Klassen, mit denen Sie Transport-Agents entwickeln können.
ms.openlocfilehash: b9552ea4398ac8135a11b48eb7e7bdf5ec81985e
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/03/2020
ms.locfileid: "44527558"
---
# <a name="transport-agent-concepts-in-exchange-2013"></a><span data-ttu-id="fbd87-103">Transport-Agent-Konzepte in Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="fbd87-103">Transport agent concepts in Exchange 2013</span></span>

<span data-ttu-id="fbd87-104">Hier finden Sie Informationen dazu, wie sich die Transport-Agent-Pipeline und die Serverrollen Architektur in Exchange 2013 auf die Entwicklung von Transport-Agents auswirken, sowie die Klassen, mit denen Sie Transport-Agents entwickeln können.</span><span class="sxs-lookup"><span data-stu-id="fbd87-104">Find information about how the transport agent pipeline and server role architecture in Exchange 2013 affect transport agent development, and the classes that you can use to develop transport agents.</span></span> 
  
<span data-ttu-id="fbd87-105">**Gilt für:** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="fbd87-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="fbd87-106">Sie können die in Exchange Server 2013 bereitgestellte Klassenbibliothek verwenden, um Transport-Agents zu implementieren, die sich für Ereignisse registrieren und Aktionen für Nachrichten ausführen, während Sie die Transportpipeline durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="fbd87-106">You can use the class library provided in Exchange Server 2013 to implement transport agents that register for events and take actions on messages as they pass through the transport pipeline.</span></span> <span data-ttu-id="fbd87-107">Sie können auch Transport-Agents verwenden, um Nachrichten zu ändern und Inhalte zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="fbd87-107">You can also use transport agents to modify messages and convert content.</span></span> 
  
<span data-ttu-id="fbd87-108">Dieser Artikel enthält Informationen zu Transport-Agents und zur Transportpipeline Architektur.</span><span class="sxs-lookup"><span data-stu-id="fbd87-108">This article provides information about transport agents and the transport pipeline architecture.</span></span> <span data-ttu-id="fbd87-109">Es ist wichtig, dass Sie die Architektur der Transportpipeline kennen, damit Sie das Transportverhalten so ändern können, dass es den Anforderungen Ihrer Organisation entspricht.</span><span class="sxs-lookup"><span data-stu-id="fbd87-109">It is important to understand the architecture of the transport pipeline so that you can modify transport behavior to meet your organization's needs.</span></span> <span data-ttu-id="fbd87-110">Dieser Artikel enthält auch Informationen zu Änderungen in der Exchange 2013 Architektur, die Transport-Agents und die Klassen betreffen, die Sie zum Entwickeln von Transport-Agents verwenden können.</span><span class="sxs-lookup"><span data-stu-id="fbd87-110">This article also provides information about changes in the Exchange 2013 architecture that affect transport agents and the classes that you can use to develop transport agents.</span></span> 
  
## <a name="transport-agents-in-the-transport-pipeline"></a><span data-ttu-id="fbd87-111">Transport-Agents in der Transportpipeline</span><span class="sxs-lookup"><span data-stu-id="fbd87-111">Transport agents in the transport pipeline</span></span>
<span data-ttu-id="fbd87-112"><a name="Pipeline"> </a></span><span class="sxs-lookup"><span data-stu-id="fbd87-112"><a name="Pipeline"> </a></span></span>

<span data-ttu-id="fbd87-113">Transport-Agents werden von einer der folgenden drei Klassen abgeleitet:</span><span class="sxs-lookup"><span data-stu-id="fbd87-113">Transport agents are derived from one of the following three classes:</span></span>
  
- [<span data-ttu-id="fbd87-114">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="fbd87-114">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx)
- [<span data-ttu-id="fbd87-115">Routing Agent</span><span class="sxs-lookup"><span data-stu-id="fbd87-115">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx)
- [<span data-ttu-id="fbd87-116">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="fbd87-116">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx)
    
<span data-ttu-id="fbd87-117">Die Transportpipeline bezieht sich auf den Fluss von Nachrichtendaten innerhalb der Grenzen einer Exchange 2013 Organisation.</span><span class="sxs-lookup"><span data-stu-id="fbd87-117">The transport pipeline refers to the flow of message data within the boundaries of an Exchange 2013 organization.</span></span> <span data-ttu-id="fbd87-118">Die Pipeline besteht aus den in der folgenden Tabelle aufgeführten Diensten.</span><span class="sxs-lookup"><span data-stu-id="fbd87-118">The pipeline consists of the services listed in the following table.</span></span>
  
<span data-ttu-id="fbd87-119">**Tabelle 1. Transport Pipeline Dienste**</span><span class="sxs-lookup"><span data-stu-id="fbd87-119">**Table 1. Transport pipeline services**</span></span>

|<span data-ttu-id="fbd87-120">**Dienst**</span><span class="sxs-lookup"><span data-stu-id="fbd87-120">**Service**</span></span>|<span data-ttu-id="fbd87-121">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="fbd87-121">**Description**</span></span>|<span data-ttu-id="fbd87-122">**Unterstützte Klassen**</span><span class="sxs-lookup"><span data-stu-id="fbd87-122">**Classes supported**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="fbd87-123">Front-End-Transport</span><span class="sxs-lookup"><span data-stu-id="fbd87-123">Front End Transport</span></span>  <br/> |<span data-ttu-id="fbd87-124">Wird auf allen [Client Zugriffsservern](https://technet.microsoft.com/library/dd298114%28v=exchg.150%29.aspx) ausgeführt und fungiert als statusfreier Proxy für den gesamten eingehenden und ausgehenden externen SMTP-Datenverkehr für die Exchange 2013 Organisation.</span><span class="sxs-lookup"><span data-stu-id="fbd87-124">Runs on all [Client Access servers](https://technet.microsoft.com/library/dd298114%28v=exchg.150%29.aspx) and acts as a stateless proxy for all inbound and outbound external SMTP traffic for the Exchange 2013 organization.</span></span> <span data-ttu-id="fbd87-125">Der Front-End-Transport-Dienst überprüft Nachrichteninhalte nicht lokal oder keine Nachrichten in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="fbd87-125">The Front End Transport service doesn't inspect message content or queue any messages locally.</span></span> <span data-ttu-id="fbd87-126">Er kommuniziert mit dem Transport Dienst auf einem [Postfachserver](https://technet.microsoft.com/library/jj150491%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="fbd87-126">It communicates with the Transport service on a [Mailbox server](https://technet.microsoft.com/library/jj150491%28v=exchg.150%29.aspx).</span></span>  <br/> |[<span data-ttu-id="fbd87-127">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="fbd87-127">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="fbd87-128">Transport</span><span class="sxs-lookup"><span data-stu-id="fbd87-128">Transport</span></span>  <br/> |<span data-ttu-id="fbd87-129">Wird auf allen Postfachservern ausgeführt und ähnelt der [Hub-Transport-Server](https://technet.microsoft.com/library/bb123494%28v=exchg.141%29.aspx) Rolle in Exchange Server 2010.</span><span class="sxs-lookup"><span data-stu-id="fbd87-129">Runs on all Mailbox servers and is similar to the [Hub Transport server](https://technet.microsoft.com/library/bb123494%28v=exchg.141%29.aspx) role in Exchange Server 2010.</span></span> <span data-ttu-id="fbd87-130">Der Transport Dienst leitet Nachrichten zwischen sich selbst und den postfachtransport-und Front-End-Transportdiensten weiter.</span><span class="sxs-lookup"><span data-stu-id="fbd87-130">The Transport service routes messages between itself and the Mailbox Transport and Front End Transport services.</span></span> <span data-ttu-id="fbd87-131">Dieser Dienst kommuniziert nicht direkt mit Postfachdatenbanken.</span><span class="sxs-lookup"><span data-stu-id="fbd87-131">This service does not communicate directly with mailbox databases.</span></span>  <br/> |[<span data-ttu-id="fbd87-132">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="fbd87-132">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> [<span data-ttu-id="fbd87-133">Routing Agent</span><span class="sxs-lookup"><span data-stu-id="fbd87-133">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> [<span data-ttu-id="fbd87-134">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="fbd87-134">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
|<span data-ttu-id="fbd87-135">Postfachtransportdienst</span><span class="sxs-lookup"><span data-stu-id="fbd87-135">Mailbox Transport</span></span>  <br/> |<span data-ttu-id="fbd87-136">Wird auf allen Postfachservern ausgeführt und besteht aus zwei getrennten Diensten: postfachtransportübermittlung und postfachtransportzustellung.</span><span class="sxs-lookup"><span data-stu-id="fbd87-136">Runs on all Mailbox servers and consists of two separate services: Mailbox Transport Submission and Mailbox Transport Delivery.</span></span> <span data-ttu-id="fbd87-137">Die postfachtransportzustellung empfängt SMTP-Nachrichten vom Transport Dienst und stellt mithilfe eines Exchange-Remoteprozeduraufrufs (RPC) eine Verbindung mit der Postfachdatenbank her, um die Nachricht zuzustellen.</span><span class="sxs-lookup"><span data-stu-id="fbd87-137">Mailbox Transport Delivery receives SMTP messages from the Transport service, and connects to the mailbox database by using an Exchange remote procedure call (RPC) to deliver the message.</span></span> <span data-ttu-id="fbd87-138">Die Post Fach Transport Übermittlung stellt mithilfe von RPC eine Verbindung mit der Postfachdatenbank her, um Nachrichten abzurufen, und sendet die Nachrichten über SMTP an den Transport Dienst.</span><span class="sxs-lookup"><span data-stu-id="fbd87-138">Mailbox Transport Submission connects to the mailbox database using RPC to retrieve messages, and submits the messages via SMTP to the Transport service.</span></span>  <br/> |<span data-ttu-id="fbd87-139">Keine.</span><span class="sxs-lookup"><span data-stu-id="fbd87-139">None.</span></span>  <br/> |
   
### <a name="transport-events"></a><span data-ttu-id="fbd87-140">Transport Ereignisse</span><span class="sxs-lookup"><span data-stu-id="fbd87-140">Transport events</span></span>
<span data-ttu-id="fbd87-141"><a name="Events"> </a></span><span class="sxs-lookup"><span data-stu-id="fbd87-141"><a name="Events"> </a></span></span>

<span data-ttu-id="fbd87-142">Sie implementieren Transport-Agents, indem Sie sich zunächst für ein Ereignis registrieren und dann eine Aktion ausführen, wenn dieses Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="fbd87-142">You implement transport agents by first registering for an event, and then taking an action when that event fires.</span></span> <span data-ttu-id="fbd87-143">Jeder der drei Agenttypen kann für eine andere Gruppe von Ereignissen registriert werden.</span><span class="sxs-lookup"><span data-stu-id="fbd87-143">Each of the three agent types can register for a different set of events.</span></span>
  
<span data-ttu-id="fbd87-144">In der folgenden Abbildung wird gezeigt, wo sich Transport-Agents in Transport-Pipelines für Ereignisse registrieren können.</span><span class="sxs-lookup"><span data-stu-id="fbd87-144">The following figure shows where in the transport pipeline transport agents can register for events.</span></span>
  
<span data-ttu-id="fbd87-145">**Abbildung 1. Transport Ereignisse**</span><span class="sxs-lookup"><span data-stu-id="fbd87-145">**Figure 1. Transport events**</span></span>

![Abbildung des Nachrichtenflusses durch die Transportpipeline und Ereignisse, für die sich jeder Agent registrieren kann beginnend mit Smtp-Ereignissen für den SmtpReceivedAgent, dann für Categorizor-Ereignisse für den RoutingAgent und schließlich für Übermittlungsereignisse für den DeliveryAgent.](media/TAConceptsFig1.png)
  
<span data-ttu-id="fbd87-147">Wenn eine Nachricht in die Transportpipeline eingeht, kann ein Transport-Agent, der von der [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) -Klasse abgeleitet wurde, in der Nachricht während der SMTP-Ereignisse fungieren, für die der Agent registriert ist.</span><span class="sxs-lookup"><span data-stu-id="fbd87-147">When a message enters the transport pipeline, a transport agent derived from the [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) class can act on the message during any of the SMTP events that the agent registered for.</span></span> <span data-ttu-id="fbd87-148">Ein von der [Routing Agent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) -Klasse abgeleiteter Agent kann für jedes der vier Kategorisierungs Ereignisse fungieren, für die es registriert ist.</span><span class="sxs-lookup"><span data-stu-id="fbd87-148">An agent derived from the [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) class can act on any of the four categorizer events that it has registered for.</span></span> <span data-ttu-id="fbd87-149">Ein Agent, der von der [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) -Klasse abgeleitet wurde, kann während eines der Zustellungs Ereignisse, für die es registriert ist, auf eine Nachricht reagieren.</span><span class="sxs-lookup"><span data-stu-id="fbd87-149">An agent derived from the [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) class can act on a message during any of the delivery events that it has registered for.</span></span> 
  
## <a name="transport-agents-and-server-roles"></a><span data-ttu-id="fbd87-150">Transport-Agents und Serverrollen</span><span class="sxs-lookup"><span data-stu-id="fbd87-150">Transport agents and server roles</span></span>
<span data-ttu-id="fbd87-151"><a name="ServerRoles"> </a></span><span class="sxs-lookup"><span data-stu-id="fbd87-151"><a name="ServerRoles"> </a></span></span>

<span data-ttu-id="fbd87-152">Änderungen an der Architektur der Serverrolle in Exchange 2013 wirken sich auf Transport-Agents und ihre Aktionen für Transport-Agents aus.</span><span class="sxs-lookup"><span data-stu-id="fbd87-152">Changes to the server role architecture in Exchange 2013 affect transport agents and what your transport agents can do.</span></span> <span data-ttu-id="fbd87-153">Exchange 2013 umfasst die folgenden Serverrollen:</span><span class="sxs-lookup"><span data-stu-id="fbd87-153">Exchange 2013 includes the following server roles:</span></span>
  
- <span data-ttu-id="fbd87-154">Postfachserver: enthält Client Zugriffsprotokolle, den Transport Dienst, Postfachdatenbanken und Unified Messaging-Komponenten.</span><span class="sxs-lookup"><span data-stu-id="fbd87-154">Mailbox server — Includes Client Access protocols, the Transport service, mailbox databases, and Unified Messaging components.</span></span> <span data-ttu-id="fbd87-155">Der Postfachserver kommuniziert direkt mit Active Directory-Domänendienste (AD DS), Client Zugriffsservern und e-Mail-Clients wie Outlook.</span><span class="sxs-lookup"><span data-stu-id="fbd87-155">The Mailbox server communicates directly with Active Directory Domain Services (AD DS), Client Access servers, and mail clients such as Outlook.</span></span>
    
- <span data-ttu-id="fbd87-156">Clientzugriffsserver – Bereitstellung von Authentifizierung, begrenzten Umleitungen, Proxy Diensten und Clientzugriffsprotokollen wie http, Pop, IMAP und SMTP.</span><span class="sxs-lookup"><span data-stu-id="fbd87-156">Client Access server — Provides authentication, limited redirection, proxy services, and client access protocols such as HTTP, POP, IMAP, and SMTP.</span></span>
    
- <span data-ttu-id="fbd87-157">Edge-Transport-Server – leitet e-Mails in eine und aus einer Organisation weiter.</span><span class="sxs-lookup"><span data-stu-id="fbd87-157">Edge Transport server — Routes email into and out of an organization.</span></span> <span data-ttu-id="fbd87-158">Edge-Transport-Server sitzen normalerweise am Umfang einer Exchange-Topologie.</span><span class="sxs-lookup"><span data-stu-id="fbd87-158">Edge Transport servers typically sit at the perimeter of an Exchange topology.</span></span>
    
<span data-ttu-id="fbd87-159">Diese konsolidierte Struktur reduziert die Anzahl der Server, die in einer Exchange 2013 Umgebung bereitgestellt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="fbd87-159">This consolidated structure reduces the number of servers that need to be deployed in an Exchange 2013 environment.</span></span> <span data-ttu-id="fbd87-160">Administratoren müssen Hub-Transport-und Client Zugriffsserver nicht mehr an allen Active Directory-Standorten bereitstellen, die einen Postfachserver enthalten, und Sie müssen nicht mehr alle Serverrollen aktualisieren, um die Vorteile der neuen Funktionalität nutzen zu können.</span><span class="sxs-lookup"><span data-stu-id="fbd87-160">Administrators no longer have to deploy Hub Transport and Client Access servers in every Active Directory site that includes a Mailbox server, and they no longer need to update all server roles in order to take advantage of new functionality.</span></span>
  
<span data-ttu-id="fbd87-161">Diese Änderungen an der Serverrollen Architektur können sich möglicherweise darauf auswirken, wo in der Pipeline Ihr Agent auf Ereignisse reagieren kann.</span><span class="sxs-lookup"><span data-stu-id="fbd87-161">These changes to the server role architecture can potentially affect where in the pipeline your agent can respond to events.</span></span> <span data-ttu-id="fbd87-162">Wenn Sie Transport-Agents für Exchange-Versionen vor Exchange 2013 erstellt haben, müssen Sie unbedingt die architektonischen Änderungen überprüfen, um zu bestimmen, ob Sie an Ihren Agents Änderungen vornehmen müssen.</span><span class="sxs-lookup"><span data-stu-id="fbd87-162">If you have created transport agents for versions of Exchange earlier than Exchange 2013, be sure to review the architectural changes to determine whether you need to make any changes to your agents.</span></span>
  
<span data-ttu-id="fbd87-163">In der folgenden Abbildung wird gezeigt, wie die architektonischen Änderungen in Exchange 2013 zu einer optimierten, konsolidierten Transportpipeline führen.</span><span class="sxs-lookup"><span data-stu-id="fbd87-163">The following figure shows how the architectural changes in Exchange 2013 result in a streamlined, consolidated transport pipeline.</span></span> <span data-ttu-id="fbd87-164">In dieser Abbildung werden Client Zugriffsserver mit der Bezeichnung CAS bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="fbd87-164">In this figure, Client Access servers are labeled CAS.</span></span> <span data-ttu-id="fbd87-165">Und Postfachserver mit der Bezeichnung mbx.</span><span class="sxs-lookup"><span data-stu-id="fbd87-165">And Mailbox servers are labeled MBX.</span></span>
  
<span data-ttu-id="fbd87-166">**Abbildung 2. Exchange 2013 Serverrollen Architektur**</span><span class="sxs-lookup"><span data-stu-id="fbd87-166">**Figure 2. Exchange 2013 server role architecture**</span></span>

![Abbildung des Clientdatenverkehrs durch eine externe Firewall und den Edge-Transport-Server auf der linken Seite, der Datenverkehr über einen Lastenausgleich der Ebene 4 an ein konsolidiertes Clientzugriffsserver-Array und eine Gruppe von Postfachservern in einer Database Availability Group auf der rechten Seite übergibt.](media/Transport_Agent_Concepts_Fig_3.png)
  
<span data-ttu-id="fbd87-168">In der folgenden Abbildung sind die Interaktionen zwischen den Exchange 2013-Serverrollen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="fbd87-168">The following figure shows the interactions between the Exchange 2013 server roles.</span></span>
  
<span data-ttu-id="fbd87-169">**Abbildung 3. Interaktion mit dem Postfach und dem Client Zugriffsserver**</span><span class="sxs-lookup"><span data-stu-id="fbd87-169">**Figure 3. Mailbox and Client Access server interactions**</span></span>

![Abbildung von Interaktionen beginnen mit Pfeilen vom Clientdatenverkehr, der einen Lastenausgleich der Ebene 4 durchläuft, der 4 Ziele auf dem Clientzugriffsserver hat: IIS/HTTP Proxy, POP/IMAP, SMTP und UM. Die Pfeile werden an ihre dazugehörigen Ziele im Postfachspeicher übergeben.](media/Transport_Agent_Concepts_Fig_4.png)
  
<span data-ttu-id="fbd87-172">Weitere Informationen zu Änderungen an der Architektur der Exchange 2013 Serverrolle finden Sie unter [Exchange 2013 Architecture](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What es New in Exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="fbd87-172">For more information about changes in the Exchange 2013 server role architecture, see [Exchange 2013 architecture](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What's New in Exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx).</span></span> 
  
## <a name="transport-agent-classes"></a><span data-ttu-id="fbd87-173">Transport-Agent-Klassen</span><span class="sxs-lookup"><span data-stu-id="fbd87-173">Transport agent classes</span></span>
<span data-ttu-id="fbd87-174"><a name="Create"> </a></span><span class="sxs-lookup"><span data-stu-id="fbd87-174"><a name="Create"> </a></span></span>

<span data-ttu-id="fbd87-175">Die von Ihrem Transport-Agent abgeleitete Klasse bestimmt die Ereignisse, für die sich Ihr Agent registrieren kann.</span><span class="sxs-lookup"><span data-stu-id="fbd87-175">The class your transport agent derives from determines the events for which your agent can register.</span></span> <span data-ttu-id="fbd87-176">Ihr Agent enthält normalerweise eine Agent-Klasse, eine Agent-Factory, einen oder mehrere Ereignishandler und den Code, der die Aktionen ausführt, die der Agent ausführen soll.</span><span class="sxs-lookup"><span data-stu-id="fbd87-176">Your agent will typically contain an agent class, an agent factory, one or more event handlers, and the code that performs the actions that you want your agent to take.</span></span>
  
<span data-ttu-id="fbd87-177">In der folgenden Tabelle sind die Klassen aufgeführt, aus denen die einzelnen Agenttypen abgeleitet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fbd87-177">The following table lists the classes from which to derive for each agent type.</span></span>
  
<span data-ttu-id="fbd87-178">**Tabelle 2. Agent-Klassen**</span><span class="sxs-lookup"><span data-stu-id="fbd87-178">**Table 2. Agent classes**</span></span>

||||
|:-----|:-----|:-----|
|<span data-ttu-id="fbd87-179">Agent-Typ</span><span class="sxs-lookup"><span data-stu-id="fbd87-179">Agent type</span></span>  <br/> |<span data-ttu-id="fbd87-180">Factory-Basisklasse</span><span class="sxs-lookup"><span data-stu-id="fbd87-180">Factory base class</span></span>  <br/> |<span data-ttu-id="fbd87-181">Agent-Basisklasse</span><span class="sxs-lookup"><span data-stu-id="fbd87-181">Agent base class</span></span>  <br/> |
|<span data-ttu-id="fbd87-182">SMTP-Empfang</span><span class="sxs-lookup"><span data-stu-id="fbd87-182">SMTP receive</span></span>  <br/> |[<span data-ttu-id="fbd87-183">SmtpReceiveAgentFactory</span><span class="sxs-lookup"><span data-stu-id="fbd87-183">SmtpReceiveAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgentFactory.aspx) <br/> |[<span data-ttu-id="fbd87-184">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="fbd87-184">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="fbd87-185">Routing</span><span class="sxs-lookup"><span data-stu-id="fbd87-185">Routing</span></span>  <br/> |[<span data-ttu-id="fbd87-186">RoutingAgentFactory</span><span class="sxs-lookup"><span data-stu-id="fbd87-186">RoutingAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgentFactory.aspx) <br/> |[<span data-ttu-id="fbd87-187">Routing Agent</span><span class="sxs-lookup"><span data-stu-id="fbd87-187">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> |
|<span data-ttu-id="fbd87-188">Übermittlung</span><span class="sxs-lookup"><span data-stu-id="fbd87-188">Delivery</span></span>  <br/> |<span data-ttu-id="fbd87-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/library/dd877550(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="fbd87-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/library/dd877550(v=exchg.150).aspx)</span></span> <br/> |<span data-ttu-id="fbd87-190">[DeliveryAgent](https://msdn.microsoft.com/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="fbd87-190">[DeliveryAgent](https://msdn.microsoft.com/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span></span> <br/> |
   
<span data-ttu-id="fbd87-191">Diese Factory-und Agent-Basisklassen stellen Eigenschaften und Methoden bereit, die Sie für den Zugriff auf Transportereignisse und-Nachrichten verwenden können.</span><span class="sxs-lookup"><span data-stu-id="fbd87-191">These factory and agent base classes provide properties and methods that you can use to access transport events and messages.</span></span> <span data-ttu-id="fbd87-192">Implementieren Sie Klassen in Ihrem Agent, die von diesen Klassen erben.</span><span class="sxs-lookup"><span data-stu-id="fbd87-192">Implement classes in your agent that inherit from these classes.</span></span> <span data-ttu-id="fbd87-193">Überschreiben Sie in der von Agent Factory abgeleiteten Klasse die **createagent** -Methode, sodass eine neue Instanz Ihrer Agent-Klasse zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="fbd87-193">In the agent factory derived class, override the **CreateAgent** method so that it returns a new instance of your agent class.</span></span> 
  
<span data-ttu-id="fbd87-194">An die Ereignisse übergebene Argumente können eine Instanz der [Email Message](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) -Klasse enthalten, die Sie verwenden können, um die Eigenschaften und den Inhalt der zugrunde liegenden Nachricht zu ändern.</span><span class="sxs-lookup"><span data-stu-id="fbd87-194">Arguments passed to the events can contain an instance of the [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) class, which you can use to change the properties and contents of the underlying message.</span></span> <span data-ttu-id="fbd87-195">Nicht alle Nachrichten Informationen sind in jedem Ereignis verfügbar.</span><span class="sxs-lookup"><span data-stu-id="fbd87-195">Not all message information is available in each event.</span></span> <span data-ttu-id="fbd87-196">Sie müssen bestimmen, welcher Agent und welches Ereignis am besten für die Aufgabe geeignet ist, die Sie ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="fbd87-196">You must determine which agent and which event is best for the task you want to accomplish.</span></span> 
  
<span data-ttu-id="fbd87-197">Die folgenden Namespaces enthalten Typen, die Sie zum Lesen, schreiben und Ändern von Nachrichten in der Transportpipeline verwenden können:</span><span class="sxs-lookup"><span data-stu-id="fbd87-197">The following namespaces contain types that you can use to read, write, and modify messages in the transport pipeline:</span></span>
  
- [<span data-ttu-id="fbd87-198">Microsoft. Exchange. Data. MIME. Encoder</span><span class="sxs-lookup"><span data-stu-id="fbd87-198">Microsoft.Exchange.Data.Mime.Encoders</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.Encoders.aspx)
    
- [<span data-ttu-id="fbd87-199">Microsoft. Exchange. Data. ContentTypes. iCalendar</span><span class="sxs-lookup"><span data-stu-id="fbd87-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.iCalendar.aspx)
    
- [<span data-ttu-id="fbd87-200">Microsoft. Exchange. Data. MIME</span><span class="sxs-lookup"><span data-stu-id="fbd87-200">Microsoft.Exchange.Data.Mime</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.aspx)
    
- [<span data-ttu-id="fbd87-201">Microsoft. Exchange. Data. ContentTypes. TNEF</span><span class="sxs-lookup"><span data-stu-id="fbd87-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.Tnef.aspx)
    
- [<span data-ttu-id="fbd87-202">Microsoft. Exchange. Data. ContentTypes. vCard</span><span class="sxs-lookup"><span data-stu-id="fbd87-202">Microsoft.Exchange.Data.ContentTypes.vCard</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.vCard.aspx)
    
<span data-ttu-id="fbd87-203">Nachdem Sie Ihren Transport-Agent geschrieben haben, [Installieren und verwalten](https://technet.microsoft.com/library/bb125175%28v=exchg.150%29.aspx) Sie den Agent mithilfe der Exchange-Verwaltungsshell.</span><span class="sxs-lookup"><span data-stu-id="fbd87-203">After you write your transport agent, you [install and manage your agent](https://technet.microsoft.com/library/bb125175%28v=exchg.150%29.aspx) by using the Exchange Management Shell.</span></span> <span data-ttu-id="fbd87-204">Weitere Informationen finden Sie unter [Creating Transport Agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="fbd87-204">For more information, see [Creating transport agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="fbd87-205">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="fbd87-205">See also</span></span>

- [<span data-ttu-id="fbd87-206">Transport-Agents in Exchange</span><span class="sxs-lookup"><span data-stu-id="fbd87-206">Transport agents in Exchange</span></span>](transport-agents-in-exchange-2013.md)    
- [<span data-ttu-id="fbd87-207">Transport-Agent-Referenz für Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="fbd87-207">Transport agent reference for Exchange 2013</span></span>](transport-agent-reference-for-exchange-2013.md)   
- [<span data-ttu-id="fbd87-208">Lesen und Ändern von Nachrichten in der Exchange 2013 Transportpipeline</span><span class="sxs-lookup"><span data-stu-id="fbd87-208">Reading and modifying messages in the Exchange 2013 transport pipeline</span></span>](reading-and-modifying-messages-in-the-exchange-2013-transport-pipeline.md)    
- [<span data-ttu-id="fbd87-209">Neuerungen in Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="fbd87-209">What's New in Exchange 2013</span></span>](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="fbd87-210">Exchange 2013 Server Rollen Architektur</span><span class="sxs-lookup"><span data-stu-id="fbd87-210">Exchange 2013 Server Role Architecture</span></span>](https://blogs.technet.com/b/exchange/archive/2013/01/23/exchange-2013-server-role-architecture.aspx)    
- [<span data-ttu-id="fbd87-211">Postfach-und Client Zugriffsserver</span><span class="sxs-lookup"><span data-stu-id="fbd87-211">Mailbox and Client Access Servers</span></span>](https://technet.microsoft.com/library/jj150519%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="fbd87-212">Exchange Server 2013 Nachrichtenfluss</span><span class="sxs-lookup"><span data-stu-id="fbd87-212">Exchange Server 2013 Mail Flow</span></span>](https://technet.microsoft.com/library/aa996349.aspx)
- [<span data-ttu-id="fbd87-213">Exchange Server 2013 e-Mail-Routing</span><span class="sxs-lookup"><span data-stu-id="fbd87-213">Exchange Server 2013 Mail Routing</span></span>](https://technet.microsoft.com/library/aa998825%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="fbd87-214">Exchange Server-PowerShell (Exchange-Verwaltungsshell)</span><span class="sxs-lookup"><span data-stu-id="fbd87-214">Exchange Server PowerShell (Exchange Management Shell)</span></span>](https://docs.microsoft.com/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps)
    

